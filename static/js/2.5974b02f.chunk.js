(this["webpackJsonpckb-explorer-fronted"]=this["webpackJsonpckb-explorer-fronted"]||[]).push([[2],{182:function(e,t,i){var n=i(224),o=i(158),a=i(145),r=a.extend,s=a.isArray;e.exports=function(e,t,i){t=s(t)&&{coordDimensions:t}||r({},t);var a=e.getSource(),l=n(a,t),d=new o(l,e);return d.initData(a,i),d}},195:function(e,t){var i=function(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){return t().indexOfName(e)>=0},this.indexOfName=function(t){return e().indexOfName(t)},this.getItemVisual=function(t,i){return e().getItemVisual(t,i)}};e.exports=i},196:function(e,t){e.exports=function(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),o=0;o<i.length;o++)if(!i[o].isSelected(t))return!1;return!0}))}}}}},197:function(e,t,i){var n=i(146),o=i(145),a=i(579),r=i(802);i(803),i(804),i(544),n.registerPreprocessor((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!o.isArray(t)&&(e.axisPointer.link=[t])}})),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=a.collect(e,t)})),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},r)},228:function(e,t,i){var n=i(145).createHashMap;e.exports=function(e){return{getTargetSeries:function(t){var i={},o=n();return t.eachSeriesByType(e,(function(e){e.__paletteScope=i,o.set(e.uid,e)})),o},reset:function(e,t){var i=e.getRawData(),n={},o=e.getData();o.each((function(e){var t=o.getRawIndex(e);n[t]=e})),i.each((function(t){var a,r=n[t],s=null!=r&&o.getItemVisual(r,"color",!0),l=null!=r&&o.getItemVisual(r,"borderColor",!0);if(s&&l||(a=i.getItemModel(t)),!s){var d=a.get("itemStyle.color")||e.getColorFromPalette(i.getName(t)||t+"",e.__paletteScope,i.count());null!=r&&o.setItemVisual(r,"color",d)}if(!l){var h=a.get("itemStyle.borderColor");null!=r&&o.setItemVisual(r,"borderColor",h)}}))}}}},291:function(e,t,i){var n=i(145),o=i(147),a=i(186),r=i(153),s=i(160),l=i(178),d=i(174);function h(e,t,i,n,o){var s=c(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),l=i.getModel("label"),d=r.normalizeCssArray(l.get("padding")||0),h=l.getFont(),u=a.getBoundingRect(s,h),g=o.position,p=u.width+d[1]+d[3],f=u.height+d[0]+d[2],m=o.align;"right"===m&&(g[0]-=p),"center"===m&&(g[0]-=p/2);var v=o.verticalAlign;"bottom"===v&&(g[1]-=f),"middle"===v&&(g[1]-=f/2),function(e,t,i,n){var o=n.getWidth(),a=n.getHeight();e[0]=Math.min(e[0]+t,o)-t,e[1]=Math.min(e[1]+i,a)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}(g,p,f,n);var x=l.get("backgroundColor");x&&"auto"!==x||(x=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:p,height:f,r:l.get("borderRadius")},position:g.slice(),style:{text:s,textFont:h,textFill:l.getTextColor(),textPosition:"inside",textPadding:d,fill:x,stroke:l.get("borderColor")||"transparent",lineWidth:l.get("borderWidth")||0,shadowBlur:l.get("shadowBlur"),shadowColor:l.get("shadowColor"),shadowOffsetX:l.get("shadowOffsetX"),shadowOffsetY:l.get("shadowOffsetY")},z2:10}}function c(e,t,i,o,a){e=t.scale.parse(e);var r=t.scale.getLabel(e,{precision:a.precision}),s=a.formatter;if(s){var d={value:l.getAxisRawValue(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};n.each(o,(function(e){var t=i.getSeriesByIndex(e.seriesIndex),n=e.dataIndexInside,o=t&&t.getDataParams(n);o&&d.seriesData.push(o)})),n.isString(s)?r=s.replace("{value}",r):n.isFunction(s)&&(r=s(d))}return r}function u(e,t,i){var n=s.create();return s.rotate(n,n,i.rotation),s.translate(n,n,i.position),o.applyTransform([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}t.buildElStyle=function(e){var t,i=e.get("type"),n=e.getModel(i+"Style");return"line"===i?(t=n.getLineStyle()).fill=null:"shadow"===i&&((t=n.getAreaStyle()).stroke=null),t},t.buildLabelElOption=h,t.getValueLabel=c,t.getTransformedPosition=u,t.buildCartesianSingleLabelElOption=function(e,t,i,n,o,a){var r=d.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=o.get("label.margin"),h(t,n,o,a,{position:u(n.axis,e,i),align:r.textAlign,verticalAlign:r.textVerticalAlign})},t.makeLineShape=function(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}},t.makeRectShape=function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}},t.makeSectorShape=function(e,t,i,n,o,a){return{cx:e,cy:t,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}},292:function(e,t,i){var n=i(146);i(660),i(809),i(661);var o=i(810),a=i(157);n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,o),a.registerSubTypeDefaulter("legend",(function(){return"plain"}))},298:function(e,t,i){var n=i(145),o={updateSelectedMap:function(e){this._targetList=n.isArray(e)?e.slice():[],this._selectTargetMap=n.reduce(e||[],(function(e,t){return e.set(t.name,t),e}),n.createHashMap())},select:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(e){e.selected=!1})),i&&(i.selected=!0)},unSelect:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);i&&(i.selected=!1)},toggleSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);if(null!=i)return this[i.selected?"unSelect":"select"](e,t),i.selected},isSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return i&&i.selected}};e.exports=o},299:function(e,t,i){var n=i(146);i(197),i(805),i(806),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){}))},300:function(e,t,i){var n=i(145),o=i(520),a=i(147),r=i(579),s=i(187),l=i(180),d=(0,i(151).makeInner)(),h=n.clone,c=n.bind;function u(){}function g(e,t,i,o){(function e(t,i){if(n.isObject(t)&&n.isObject(i)){var o=!0;return n.each(i,(function(i,n){o=o&&e(t[n],i)})),!!o}return t===i})(d(i).lastProp,o)||(d(i).lastProp=o,t?a.updateProps(i,o,e):(i.stopAnimation(),i.attr(o)))}function p(e,t){e[t.get("label.show")?"show":"hide"]()}function f(e){return{position:e.position.slice(),rotation:e.rotation||0}}function m(e,t,i){var n=t.get("z"),o=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=n&&(e.z=n),null!=o&&(e.zlevel=o),e.silent=i)}))}u.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,i,o){var r=t.get("value"),s=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,o||this._lastValue!==r||this._lastStatus!==s){this._lastValue=r,this._lastStatus=s;var l=this._group,d=this._handle;if(!s||"hide"===s)return l&&l.hide(),void(d&&d.hide());l&&l.show(),d&&d.show();var h={};this.makeElOption(h,r,e,t,i);var c=h.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(e,t);if(l){var p=n.curry(g,t,u);this.updatePointerEl(l,h,p,t),this.updateLabelEl(l,h,p,t)}else l=this._group=new a.Group,this.createPointerEl(l,h,e,t),this.createLabelEl(l,h,e,t),i.getZr().add(l);m(l,t,!0),this._renderHandle(r)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var i=t.get("animation"),n=e.axis,o="category"===n.type,a=t.get("snap");if(!a&&!o)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(o&&n.getBandWidth()>s)return!0;if(a){var l=r.getAxisInfo(e).seriesDataCount,d=n.getExtent();return Math.abs(d[0]-d[1])/l>s}return!1}return!0===i},makeElOption:function(e,t,i,n,o){},createPointerEl:function(e,t,i,n){var o=t.pointer;if(o){var r=d(e).pointerEl=new a[o.type](h(t.pointer));e.add(r)}},createLabelEl:function(e,t,i,n){if(t.label){var o=d(e).labelEl=new a.Rect(h(t.label));e.add(o),p(o,n)}},updatePointerEl:function(e,t,i){var n=d(e).pointerEl;n&&t.pointer&&(n.setStyle(t.pointer.style),i(n,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,i,n){var o=d(e).labelEl;o&&(o.setStyle(t.label.style),i(o,{shape:t.label.shape,position:t.label.position}),p(o,n))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,o=this._api.getZr(),r=this._handle,d=i.getModel("handle"),h=i.get("status");if(!d.get("show")||!h||"hide"===h)return r&&o.remove(r),void(this._handle=null);this._handle||(t=!0,r=this._handle=a.createIcon(d.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){s.stop(e.event)},onmousedown:c(this._onHandleDragMove,this,0,0),drift:c(this._onHandleDragMove,this),ondragend:c(this._onHandleDragEnd,this)}),o.add(r)),m(r,i,!1);r.setStyle(d.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var u=d.get("size");n.isArray(u)||(u=[u,u]),r.attr("scale",[u[0]/2,u[1]/2]),l.createOrUpdate(this,"_doDispatchAxisPointer",d.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){g(this._axisPointerModel,!t&&this._moveAnimation,this._handle,f(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var i=this._handle;if(i){this._dragging=!0;var n=this.updateHandleTransform(f(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=n,i.stopAnimation(),i.attr(f(n)),d(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(e){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,n=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),n&&t.remove(n),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}},u.prototype.constructor=u,o.enableClassExtend(u);var v=u;e.exports=v},542:function(e,t,i){var n=i(146),o=i(145);i(798),i(799);var a=i(543),r=i(228),s=i(800),l=i(196);a("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),n.registerVisual(r("pie")),n.registerLayout(o.curry(s,"pie")),n.registerProcessor(l("pie"))},543:function(e,t,i){var n=i(146),o=i(145);e.exports=function(e,t){o.each(t,(function(t){t.update="updateView",n.registerAction(t,(function(i,n){var o={};return n.eachComponent({mainType:"series",subType:e,query:i},(function(e){e[t.method]&&e[t.method](i.name,i.dataIndex);var n=e.getData();n.each((function(t){var i=n.getName(t);o[i]=e.isSelected(i)||!1}))})),{name:i.name,selected:o,seriesId:i.seriesId}}))}))}},544:function(e,t,i){var n=i(300),o=i(291),a=i(649),r=i(181),s=n.extend({makeElOption:function(e,t,i,n,r){var s=i.axis,h=s.grid,c=n.get("type"),u=l(h,s).getOtherAxis(s).getGlobalExtent(),g=s.toGlobalCoord(s.dataToCoord(t,!0));if(c&&"none"!==c){var p=o.buildElStyle(n),f=d[c](s,g,u);f.style=p,e.graphicKey=f.type,e.pointer=f}var m=a.layout(h.model,i);o.buildCartesianSingleLabelElOption(t,e,m,i,n,r)},getHandleTransform:function(e,t,i){var n=a.layout(t.axis.grid.model,t,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:o.getTransformedPosition(t.axis,e,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),s=l(a,o).getOtherAxis(o).getGlobalExtent(),d="x"===o.dim?0:1,h=e.position;h[d]+=t[d],h[d]=Math.min(r[1],h[d]),h[d]=Math.max(r[0],h[d]);var c=(s[1]+s[0])/2,u=[c,c];u[d]=h[d];return{position:h,rotation:e.rotation,cursorPoint:u,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][d]}}});function l(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}var d={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:o.makeLineShape([t,i[0]],[t,i[1]],h(e))}},shadow:function(e,t,i){var n=Math.max(1,e.getBandWidth()),a=i[1]-i[0];return{type:"Rect",shape:o.makeRectShape([t-n/2,i[0]],[n,a],h(e))}}};function h(e){return"x"===e.dim?0:1}r.registerAxisPointerClass("CartesianAxisPointer",s);var c=s;e.exports=c},545:function(e,t,i){var n=i(150),o=n.getLayoutRect,a=n.box,r=n.positionElement,s=i(153),l=i(147);t.layout=function(e,t,i){var n=t.getBoxLayoutParams(),s=t.get("padding"),l={width:i.getWidth(),height:i.getHeight()},d=o(n,l,s);a(t.get("orient"),e,t.get("itemGap"),d.width,d.height),r(e,n,l,s)},t.makeBackground=function(e,t){var i=s.normalizeCssArray(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),e=new l.Rect({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}},546:function(e,t,i){i(292),i(811),i(812),i(813)},658:function(e,t,i){var n=i(145),o=i(151);e.exports=function(e,t){var i,a=[],r=e.seriesIndex;if(null==r||!(i=t.getSeriesByIndex(r)))return{point:[]};var s=i.getData(),l=o.queryDataIndex(s,e);if(null==l||l<0||n.isArray(l))return{point:[]};var d=s.getItemGraphicEl(l),h=i.coordinateSystem;if(i.getTooltipPosition)a=i.getTooltipPosition(l)||[];else if(h&&h.dataToPoint)a=h.dataToPoint(s.getValues(n.map(h.dimensions,(function(e){return s.mapDimension(e)})),l,!0))||[];else if(d){var c=d.getBoundingRect().clone();c.applyTransform(d.transform),a=[c.x+c.width/2,c.y+c.height/2]}return{point:a,el:d}}},659:function(e,t,i){var n=i(145),o=i(171),a=(0,i(151).makeInner)(),r=n.each;function s(e,t,i){e.handler("leave",null,i)}function l(e,t,i,n){t.handler(e,i,n)}t.register=function(e,t,i){if(!o.node){var d=t.getZr();a(d).records||(a(d).records={}),function(e,t){if(a(e).initialized)return;function i(i,n){e.on(i,(function(i){var o=function(e){var t={showTip:[],hideTip:[]};return{dispatchAction:function i(n){var o=t[n.type];o?o.push(n):(n.dispatchAction=i,e.dispatchAction(n))},pendings:t}}(t);r(a(e).records,(function(e){e&&n(e,i,o.dispatchAction)})),function(e,t){var i,n=e.showTip.length,o=e.hideTip.length;n?i=e.showTip[n-1]:o&&(i=e.hideTip[o-1]);i&&(i.dispatchAction=null,t.dispatchAction(i))}(o.pendings,t)}))}a(e).initialized=!0,i("click",n.curry(l,"click")),i("mousemove",n.curry(l,"mousemove")),i("globalout",s)}(d,t),(a(d).records[e]||(a(d).records[e]={})).handler=i}},t.unregister=function(e,t){if(!o.node){var i=t.getZr();(a(i).records||{})[e]&&(a(i).records[e]=null)}}},660:function(e,t,i){var n=i(146),o=i(145),a=i(155),r=i(151).isNameSpecified,s=i(172).legend.selector,l={all:{type:"all",title:o.clone(s.all)},inverse:{type:"inverse",title:o.clone(s.inverse)}},d=n.extendComponentModel({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){d.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),o.isArray(t)&&o.each(t,(function(e,i){o.isString(e)&&(e={type:e}),t[i]=o.merge(e,l[e.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],i=[];e.eachRawSeries((function(n){var o,a=n.name;if(i.push(a),n.legendVisualProvider){var s=n.legendVisualProvider.getAllNames();e.isSeriesFiltered(n)||(i=i.concat(s)),s.length?t=t.concat(s):o=!0}else o=!0;o&&r(n)&&t.push(n.name)})),this._availableNames=i;var n=this.get("data")||t,s=o.map(n,(function(e){return"string"!==typeof e&&"number"!==typeof e||(e={name:e}),new a(e,this,this.ecModel)}),this);this._data=s},getData:function(){return this._data},select:function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;o.each(i,(function(e){t[e.get("name")]=!1}))}t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;o.each(e,(function(e){t[e.get("name",!0)]=!0}))},inverseSelect:function(){var e=this._data,t=this.option.selected;o.each(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&o.indexOf(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}}),h=d;e.exports=h},661:function(e,t,i){i(149).__DEV__;var n=i(146),o=i(145),a=i(161).createSymbol,r=i(147),s=i(545).makeBackground,l=i(150),d=o.curry,h=o.each,c=r.Group,u=n.extendComponentView({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new c),this._backgroundEl,this.group.add(this._selectorGroup=new c),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),r=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===r?"right":"left");var d=e.get("selector",!0),h=e.get("selectorPosition",!0);!d||h&&"auto"!==h||(h="horizontal"===r?"end":"start"),this.renderInner(a,e,t,i,d,r,h);var c=e.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},g=e.get("padding"),p=l.getLayoutRect(c,u,g),f=this.layoutInner(e,a,p,n,d,h),m=l.getLayoutRect(o.defaults({width:f.width,height:f.height},c),u,g);this.group.attr("position",[m.x-f.x,m.y-f.y]),this.group.add(this._backgroundEl=s(f,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,i,n,a,r,s){var l=this.getContentGroup(),u=o.createHashMap(),g=t.get("selectedMode"),v=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&v.push(e.id)})),h(t.getData(),(function(o,a){var r=o.get("name");if(this.newlineDisabled||""!==r&&"\n"!==r){var s=i.getSeriesByName(r)[0];if(!u.get(r))if(s){var h=s.getData(),x=h.getVisual("color"),y=h.getVisual("borderColor");"function"===typeof x&&(x=x(s.getDataParams(0))),"function"===typeof y&&(y=y(s.getDataParams(0)));var _=h.getVisual("legendSymbol")||"roundRect",w=h.getVisual("symbol");this._createItem(r,a,o,t,_,w,e,x,y,g).on("click",d(p,r,null,n,v)).on("mouseover",d(f,s.name,null,n,v)).on("mouseout",d(m,s.name,null,n,v)),u.set(r,!0)}else i.eachRawSeries((function(i){if(!u.get(r)&&i.legendVisualProvider){var s=i.legendVisualProvider;if(!s.containName(r))return;var l=s.indexOfName(r),h=s.getItemVisual(l,"color"),c=s.getItemVisual(l,"borderColor");this._createItem(r,a,o,t,"roundRect",null,e,h,c,g).on("click",d(p,null,r,n,v)).on("mouseover",d(f,null,r,n,v)).on("mouseout",d(m,null,r,n,v)),u.set(r,!0)}}),this)}else l.add(new c({newline:!0}))}),this),a&&this._createSelector(a,t,n,r,s)},_createSelector:function(e,t,i,n,o){var a=this.getSelectorGroup();h(e,(function(e){!function(e){var n=e.type,o=new r.Text({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect"})}});a.add(o);var s=t.getModel("selectorLabel"),l=t.getModel("emphasis.selectorLabel");r.setLabelStyle(o.style,o.hoverStyle={},s,l,{defaultText:e.title,isRectText:!1}),r.setHoverStyle(o)}(e)}))},_createItem:function(e,t,i,n,s,l,d,h,u,p){var f=n.get("itemWidth"),m=n.get("itemHeight"),v=n.get("inactiveColor"),x=n.get("inactiveBorderColor"),y=n.get("symbolKeepAspect"),_=n.getModel("itemStyle"),w=n.isSelected(e),b=new c,I=i.getModel("textStyle"),S=i.get("icon"),T=i.getModel("tooltip"),A=T.parentModel,C=a(s=S||s,0,0,f,m,w?h:v,null==y||y);if(b.add(g(C,s,_,u,x,w)),!S&&l&&(l!==s||"none"===l)){var M=.8*m;"none"===l&&(l="circle");var P=a(l,(f-M)/2,(m-M)/2,M,M,w?h:v,null==y||y);b.add(g(P,l,_,u,x,w))}var D="left"===d?f+5:-5,L=d,O=n.get("formatter"),k=e;"string"===typeof O&&O?k=O.replace("{name}",null!=e?e:""):"function"===typeof O&&(k=O(e)),b.add(new r.Text({style:r.setTextStyle({},I,{text:k,x:D,y:m/2,textFill:w?I.getTextColor():v,textAlign:L,textVerticalAlign:"middle"})}));var B=new r.Rect({shape:b.getBoundingRect(),invisible:!0,tooltip:T.get("show")?o.extend({content:e,formatter:A.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:e,$vars:["name"]}},T.option):null});return b.add(B),b.eachChild((function(e){e.silent=!0})),B.silent=!p,this.getContentGroup().add(b),r.setHoverStyle(b),b.__legendDataIndex=t,b},layoutInner:function(e,t,i,n,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();l.box(e.get("orient"),r,e.get("itemGap"),i.width,i.height);var d=r.getBoundingRect(),h=[-d.x,-d.y];if(o){l.box("horizontal",s,e.get("selectorItemGap",!0));var c=s.getBoundingRect(),u=[-c.x,-c.y],g=e.get("selectorButtonGap",!0),p=e.getOrient().index,f=0===p?"width":"height",m=0===p?"height":"width",v=0===p?"y":"x";"end"===a?u[p]+=d[f]+g:h[p]+=c[f]+g,u[1-p]+=d[m]/2-c[m]/2,s.attr("position",u),r.attr("position",h);var x={x:0,y:0};return x[f]=d[f]+g+c[f],x[m]=Math.max(d[m],c[m]),x[v]=Math.min(0,c[v]+u[1-p]),x}return r.attr("position",h),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function g(e,t,i,n,o,a){var r;return"line"!==t&&t.indexOf("empty")<0?(r=i.getItemStyle(),e.style.stroke=n,a||(r.stroke=o)):r=i.getItemStyle(["borderWidth","borderColor"]),e.setStyle(r)}function p(e,t,i,n){m(e,t,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),f(e,t,i,n)}function f(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function m(e,t,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}e.exports=u},798:function(e,t,i){var n=i(146),o=i(182),a=i(145),r=i(151),s=i(148).getPercentWithPrecision,l=i(298),d=i(521).retrieveRawAttr,h=i(220).makeSeriesEncodeForNameBased,c=i(195),u=n.extendSeriesModel({type:"series.pie",init:function(e){u.superApply(this,"init",arguments),this.legendVisualProvider=new c(a.bind(this.getData,this),a.bind(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){u.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(e,t){return o(this,{coordDimensions:["value"],encodeDefaulter:a.curry(h,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),i=[],n=0,o=e.count();n<o;n++)i.push({name:e.getName(n),value:e.get(t,n),selected:d(e,n,"selected")});return i},getDataParams:function(e){var t=this.getData(),i=u.superCall(this,"getDataParams",e),n=[];return t.each(t.mapDimension("value"),(function(e){n.push(e)})),i.percent=s(n,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){r.defaultEmphasis(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});a.mixin(u,l);var g=u;e.exports=g},799:function(e,t,i){var n=i(145),o=i(147),a=i(166);function r(e,t,i,n){var o=t.getData(),a=this.dataIndex,r=o.getName(a),l=t.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:e,name:r,seriesId:t.id}),o.each((function(e){s(o.getItemGraphicEl(e),o.getItemLayout(e),t.isSelected(o.getName(e)),l,i)}))}function s(e,t,i,n,o){var a=(t.startAngle+t.endAngle)/2,r=i?n:0,s=[Math.cos(a)*r,Math.sin(a)*r];o?e.animate().when(200,{position:s}).start("bounceOut"):e.attr("position",s)}function l(e,t){o.Group.call(this);var i=new o.Sector({z2:2}),n=new o.Polyline,a=new o.Text;this.add(i),this.add(n),this.add(a),this.updateData(e,t,!0)}var d=l.prototype;d.updateData=function(e,t,i){var a=this.childAt(0),r=this.childAt(1),l=this.childAt(2),d=e.hostModel,h=e.getItemModel(t),c=e.getItemLayout(t),u=n.extend({},c);u.label=null;var g=d.getShallow("animationTypeUpdate");i?(a.setShape(u),"scale"===d.getShallow("animationType")?(a.shape.r=c.r0,o.initProps(a,{shape:{r:c.r}},d,t)):(a.shape.endAngle=c.startAngle,o.updateProps(a,{shape:{endAngle:c.endAngle}},d,t))):"expansion"===g?a.setShape(u):o.updateProps(a,{shape:u},d,t);var p=e.getItemVisual(t,"color");a.useStyle(n.defaults({lineJoin:"bevel",fill:p},h.getModel("itemStyle").getItemStyle())),a.hoverStyle=h.getModel("emphasis.itemStyle").getItemStyle();var f=h.getShallow("cursor");f&&a.attr("cursor",f),s(this,e.getItemLayout(t),d.isSelected(e.getName(t)),d.get("selectedOffset"),d.get("animation"));var m=!i&&"transition"===g;this._updateLabel(e,t,m),this.highDownOnUpdate=d.get("silent")?null:function(e,t){var i=d.isAnimationEnabled()&&h.get("hoverAnimation");"emphasis"===t?(r.ignore=r.hoverIgnore,l.ignore=l.hoverIgnore,i&&(a.stopAnimation(!0),a.animateTo({shape:{r:c.r+d.get("hoverOffset")}},300,"elasticOut"))):(r.ignore=r.normalIgnore,l.ignore=l.normalIgnore,i&&(a.stopAnimation(!0),a.animateTo({shape:{r:c.r}},300,"elasticOut")))},o.setHoverStyle(this)},d._updateLabel=function(e,t,i){var n=this.childAt(1),a=this.childAt(2),r=e.hostModel,s=e.getItemModel(t),l=e.getItemLayout(t).label,d=e.getItemVisual(t,"color");if(!l||isNaN(l.x)||isNaN(l.y))a.ignore=a.normalIgnore=a.hoverIgnore=n.ignore=n.normalIgnore=n.hoverIgnore=!0;else{var h={points:l.linePoints||[[l.x,l.y],[l.x,l.y],[l.x,l.y]]},c={x:l.x,y:l.y};i?(o.updateProps(n,{shape:h},r,t),o.updateProps(a,{style:c},r,t)):(n.attr({shape:h}),a.attr({style:c})),a.attr({rotation:l.rotation,origin:[l.x,l.y],z2:10});var u=s.getModel("label"),g=s.getModel("emphasis.label"),p=s.getModel("labelLine"),f=s.getModel("emphasis.labelLine");d=e.getItemVisual(t,"color");o.setLabelStyle(a.style,a.hoverStyle={},u,g,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:l.text,autoColor:d,useInsideStyle:!!l.inside},{textAlign:l.textAlign,textVerticalAlign:l.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),a.ignore=a.normalIgnore=!u.get("show"),a.hoverIgnore=!g.get("show"),n.ignore=n.normalIgnore=!p.get("show"),n.hoverIgnore=!f.get("show"),n.setStyle({stroke:d,opacity:e.getItemVisual(t,"opacity")}),n.setStyle(p.getModel("lineStyle").getLineStyle()),n.hoverStyle=f.getModel("lineStyle").getLineStyle();var m=p.get("smooth");m&&!0===m&&(m=.4),n.setShape({smooth:m})}},n.inherits(l,o.Group);var h=a.extend({type:"pie",init:function(){var e=new o.Group;this._sectorGroup=e},render:function(e,t,i,o){if(!o||o.from!==this.uid){var a=e.getData(),s=this._data,d=this.group,h=t.get("animation"),c=!s,u=e.get("animationType"),g=e.get("animationTypeUpdate"),p=n.curry(r,this.uid,e,h,i),f=e.get("selectedMode");if(a.diff(s).add((function(e){var t=new l(a,e);c&&"scale"!==u&&t.eachChild((function(e){e.stopAnimation(!0)})),f&&t.on("click",p),a.setItemGraphicEl(e,t),d.add(t)})).update((function(e,t){var i=s.getItemGraphicEl(t);c||"transition"===g||i.eachChild((function(e){e.stopAnimation(!0)})),i.updateData(a,e),i.off("click"),f&&i.on("click",p),d.add(i),a.setItemGraphicEl(e,i)})).remove((function(e){var t=s.getItemGraphicEl(e);d.remove(t)})).execute(),h&&a.count()>0&&(c?"scale"!==u:"transition"!==g)){for(var m=a.getItemLayout(0),v=1;isNaN(m.startAngle)&&v<a.count();++v)m=a.getItemLayout(v);var x=Math.max(i.getWidth(),i.getHeight())/2,y=n.bind(d.removeClipPath,d);d.setClipPath(this._createClipPath(m.cx,m.cy,x,m.startAngle,m.clockwise,y,e,c))}else d.removeClipPath();this._data=a}},dispose:function(){},_createClipPath:function(e,t,i,n,a,r,s,l){var d=new o.Sector({shape:{cx:e,cy:t,r0:0,r:i,startAngle:n,endAngle:n,clockwise:a}});return(l?o.initProps:o.updateProps)(d,{shape:{endAngle:n+(a?1:-1)*Math.PI*2}},s,r),d},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var n=e[0]-i.cx,o=e[1]-i.cy,a=Math.sqrt(n*n+o*o);return a<=i.r&&a>=i.r0}}});e.exports=h},800:function(e,t,i){var n=i(148),o=n.parsePercent,a=n.linearMap,r=i(150),s=i(801),l=i(145),d=2*Math.PI,h=Math.PI/180;e.exports=function(e,t,i,n){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),c=function(e,t){return r.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,i),u=e.get("center"),g=e.get("radius");l.isArray(g)||(g=[0,g]),l.isArray(u)||(u=[u,u]);var p=o(c.width,i.getWidth()),f=o(c.height,i.getHeight()),m=Math.min(p,f),v=o(u[0],p)+c.x,x=o(u[1],f)+c.y,y=o(g[0],m/2),_=o(g[1],m/2),w=-e.get("startAngle")*h,b=e.get("minAngle")*h,I=0;t.each(n,(function(e){!isNaN(e)&&I++}));var S=t.getSum(n),T=Math.PI/(S||I)*2,A=e.get("clockwise"),C=e.get("roseType"),M=e.get("stillShowZeroSum"),P=t.getDataExtent(n);P[0]=0;var D=d,L=0,O=w,k=A?1:-1;if(t.each(n,(function(e,i){var n;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:v,cy:x,r0:y,r:C?NaN:_,viewRect:c});else{(n="area"!==C?0===S&&M?T:e*T:d/I)<b?(n=b,D-=b):L+=e;var o=O+k*n;t.setItemLayout(i,{angle:n,startAngle:O,endAngle:o,clockwise:A,cx:v,cy:x,r0:y,r:C?a(e,P,[y,_]):_,viewRect:c}),O=o}})),D<d&&I)if(D<=.001){var B=d/I;t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i);n.angle=B,n.startAngle=w+k*i*B,n.endAngle=w+k*(i+1)*B}}))}else T=D/L,O=w,t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i),o=n.angle===b?b:e*T;n.startAngle=O,n.endAngle=O+k*o,O+=k*o}}));s(e,_,c.width,c.height,c.x,c.y)}))}},801:function(e,t,i){var n=i(186),o=i(148).parsePercent,a=Math.PI/180;function r(e,t,i,n,o,a,r,s,l,d){function h(t,i,n,o){for(var a=t;a<i&&!(e[a].y+n>l+r);a++)if(e[a].y+=n,a>t&&a+1<i&&e[a+1].y>e[a].y+e[a].height)return void c(a,n/2);c(i-1,n/2)}function c(t,i){for(var n=t;n>=0&&!(e[n].y-i<l)&&(e[n].y-=i,!(n>0&&e[n].y>e[n-1].y+e[n-1].height));n--);}function u(e,t,i,n,o,a){for(var r=t?Number.MAX_VALUE:0,s=0,l=e.length;s<l;s++)if("none"===e[s].labelAlignTo){var d=Math.abs(e[s].y-n),h=e[s].len,c=e[s].len2,u=d<o+h?Math.sqrt((o+h+c)*(o+h+c)-d*d):Math.abs(e[s].x-i);t&&u>=r&&(u=r-10),!t&&u<=r&&(u=r+10),e[s].x=i+u*a,r=u}}e.sort((function(e,t){return e.y-t.y}));for(var g,p=0,f=e.length,m=[],v=[],x=0;x<f;x++){if("outer"===e[x].position&&"labelLine"===e[x].labelAlignTo){var y=e[x].x-d;e[x].linePoints[1][0]+=y,e[x].x=d}(g=e[x].y-p)<0&&h(x,f,-g),p=e[x].y+e[x].height}r-p<0&&c(f-1,p-r);for(x=0;x<f;x++)e[x].y>=i?v.push(e[x]):m.push(e[x]);u(m,!1,t,i,n,o),u(v,!0,t,i,n,o)}function s(e){return"center"===e.position}e.exports=function(e,t,i,l,d,h){var c,u,g=e.getData(),p=[],f=!1,m=(e.get("minShowLabelAngle")||0)*a;g.each((function(a){var r=g.getItemLayout(a),s=g.getItemModel(a),l=s.getModel("label"),h=l.get("position")||s.get("emphasis.label.position"),v=l.get("distanceToLabelLine"),x=l.get("alignTo"),y=o(l.get("margin"),i),_=l.get("bleedMargin"),w=l.getFont(),b=s.getModel("labelLine"),I=b.get("length");I=o(I,i);var S=b.get("length2");if(S=o(S,i),!(r.angle<m)){var T,A,C,M,P=(r.startAngle+r.endAngle)/2,D=Math.cos(P),L=Math.sin(P);c=r.cx,u=r.cy;var O,k=e.getFormattedLabel(a,"normal")||g.getName(a),B=n.getBoundingRect(k,w,M,"top"),R="inside"===h||"inner"===h;if("center"===h)T=r.cx,A=r.cy,M="center";else{var z=(R?(r.r+r.r0)/2*D:r.r*D)+c,G=(R?(r.r+r.r0)/2*L:r.r*L)+u;if(T=z+3*D,A=G+3*L,!R){var N=z+D*(I+t-r.r),V=G+L*(I+t-r.r),E=N+(D<0?-1:1)*S;T="edge"===x?D<0?d+y:d+i-y:E+(D<0?-v:v),A=V,C=[[z,G],[N,V],[E,V]]}M=R?"center":"edge"===x?D>0?"right":"left":D>0?"left":"right"}var H=l.get("rotate");O="number"===typeof H?H*(Math.PI/180):H?D<0?-P+Math.PI:-P:0,f=!!O,r.label={x:T,y:A,position:h,height:B.height,len:I,len2:S,linePoints:C,textAlign:M,verticalAlign:"middle",rotation:O,inside:R,labelDistance:v,labelAlignTo:x,labelMargin:y,bleedMargin:_,textRect:B,text:k,font:w},R||p.push(r.label)}})),!f&&e.get("avoidLabelOverlap")&&function(e,t,i,o,a,l,d,h){for(var c=[],u=[],g=Number.MAX_VALUE,p=-Number.MAX_VALUE,f=0;f<e.length;f++)s(e[f])||(e[f].x<t?(g=Math.min(g,e[f].x),c.push(e[f])):(p=Math.max(p,e[f].x),u.push(e[f])));for(r(u,t,i,o,1,0,l,0,h,p),r(c,t,i,o,-1,0,l,0,h,g),f=0;f<e.length;f++){var m=e[f];if(!s(m)){var v=m.linePoints;if(v){var x,y="edge"===m.labelAlignTo,_=m.textRect.width;(x=y?m.x<t?v[2][0]-m.labelDistance-d-m.labelMargin:d+a-m.labelMargin-v[2][0]-m.labelDistance:m.x<t?m.x-d-m.bleedMargin:d+a-m.x-m.bleedMargin)<m.textRect.width&&(m.text=n.truncateText(m.text,x,m.font),"edge"===m.labelAlignTo&&(_=n.getWidth(m.text,m.font)));var w=v[1][0]-v[2][0];y?m.x<t?v[2][0]=d+m.labelMargin+_+m.labelDistance:v[2][0]=d+a-m.labelMargin-_-m.labelDistance:(m.x<t?v[2][0]=m.x+m.labelDistance:v[2][0]=m.x-m.labelDistance,v[1][0]=v[2][0]+w),v[1][1]=v[2][1]=m.y}}}}(p,c,u,t,i,l,d,h)}},802:function(e,t,i){var n=i(145),o=i(151).makeInner,a=i(579),r=i(658),s=n.each,l=n.curry,d=o();function h(e,t,i,o,a){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t))if(e.involveSeries){var l=function(e,t){var i=t.axis,n=i.dim,o=e,a=[],r=Number.MAX_VALUE,l=-1;return s(t.seriesModels,(function(t,d){var h,c,u=t.getData().mapDimension(n,!0);if(t.getAxisTooltipData){var g=t.getAxisTooltipData(u,e,i);c=g.dataIndices,h=g.nestestValue}else{if(!(c=t.getData().indicesOfNearest(u[0],e,"category"===i.type?.5:null)).length)return;h=t.getData().get(u[0],c[0])}if(null!=h&&isFinite(h)){var p=e-h,f=Math.abs(p);f<=r&&((f<r||p>=0&&l<0)&&(r=f,l=p,o=h,a.length=0),s(c,(function(e){a.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:a,snapToValue:o}}(t,e),d=l.payloadBatch,h=l.snapToValue;d[0]&&null==a.seriesIndex&&n.extend(a,d[0]),!o&&e.snap&&r.containData(h)&&null!=h&&(t=h),i.showPointer(e,t,d,a),i.showTooltip(e,l,h)}else i.showPointer(e,t)}function c(e,t,i,n){e[t.key]={value:i,payloadBatch:n}}function u(e,t,i,n){var o=i.payloadBatch,r=t.axis,s=r.model,l=t.axisPointerModel;if(t.triggerTooltip&&o.length){var d=t.coordSys.model,h=a.makeKey(d),c=e.map[h];c||(c=e.map[h]={coordSysId:d.id,coordSysIndex:d.componentIndex,coordSysType:d.type,coordSysMainType:d.mainType,dataByAxis:[]},e.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:o.slice()})}}function g(e){var t=e.axis.model,i={},n=i.axisDim=e.axis.dim;return i.axisIndex=i[n+"AxisIndex"]=t.componentIndex,i.axisName=i[n+"AxisName"]=t.name,i.axisId=i[n+"AxisId"]=t.id,i}function p(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}e.exports=function(e,t,i){var o=e.currTrigger,a=[e.x,e.y],f=e,m=e.dispatchAction||n.bind(i.dispatchAction,i),v=t.getComponent("axisPointer").coordSysAxesInfo;if(v){p(a)&&(a=r({seriesIndex:f.seriesIndex,dataIndex:f.dataIndex},t).point);var x=p(a),y=f.axesInfo,_=v.axesInfo,w="leave"===o||p(a),b={},I={},S={list:[],map:{}},T={showPointer:l(c,I),showTooltip:l(u,S)};s(v.coordSysMap,(function(e,t){var i=x||e.containPoint(a);s(v.coordSysAxesInfo[t],(function(e,t){var n=e.axis,o=function(e,t){for(var i=0;i<(e||[]).length;i++){var n=e[i];if(t.axis.dim===n.axisDim&&t.axis.model.componentIndex===n.axisIndex)return n}}(y,e);if(!w&&i&&(!y||o)){var r=o&&o.value;null!=r||x||(r=n.pointToData(a)),null!=r&&h(e,r,T,!1,b)}}))}));var A={};return s(_,(function(e,t){var i=e.linkGroup;i&&!I[t]&&s(i.axesInfo,(function(t,n){var o=I[n];if(t!==e&&o){var a=o.value;i.mapper&&(a=e.axis.scale.parse(i.mapper(a,g(t),g(e)))),A[e.key]=a}}))})),s(A,(function(e,t){h(_[t],e,T,!0,b)})),function(e,t,i){var n=i.axesInfo=[];s(t,(function(t,i){var o=t.axisPointerModel.option,a=e[i];a?(!t.useHandle&&(o.status="show"),o.value=a.value,o.seriesDataIndices=(a.payloadBatch||[]).slice()):!t.useHandle&&(o.status="hide"),"show"===o.status&&n.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:o.value})}))}(I,_,b),function(e,t,i,n){if(p(t)||!e.list.length)return void n({type:"hideTip"});var o=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:e.list})}(S,a,e,m),function(e,t,i){var o=i.getZr(),a=d(o).axisPointerLastHighlights||{},r=d(o).axisPointerLastHighlights={};s(e,(function(e,t){var i=e.axisPointerModel.option;"show"===i.status&&s(i.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;r[t]=e}))}));var l=[],h=[];n.each(a,(function(e,t){!r[t]&&h.push(e)})),n.each(r,(function(e,t){!a[t]&&l.push(e)})),h.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:h}),l.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:l})}(_,0,i),b}}},803:function(e,t,i){var n=i(146).extendComponentModel({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});e.exports=n},804:function(e,t,i){var n=i(146),o=i(659),a=n.extendComponentView({type:"axisPointer",render:function(e,t,i){var n=t.getComponent("tooltip"),a=e.get("triggerOn")||n&&n.get("triggerOn")||"mousemove|click";o.register("axisPointer",i,(function(e,t,i){"none"!==a&&("leave"===e||a.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){o.unregister(t.getZr(),"axisPointer"),a.superApply(this._model,"remove",arguments)},dispose:function(e,t){o.unregister("axisPointer",t),a.superApply(this._model,"dispose",arguments)}}),r=a;e.exports=r},805:function(e,t,i){var n=i(146).extendComponentModel({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});e.exports=n},806:function(e,t,i){var n=i(146),o=i(145),a=i(171),r=i(807),s=i(808),l=i(153),d=i(148),h=i(147),c=i(658),u=i(150),g=i(155),p=i(659),f=i(178),m=i(291),v=i(151).getTooltipRenderMode,x=o.bind,y=o.each,_=d.parsePercent,w=new h.Rect({shape:{x:-1,y:-1,width:2,height:2}}),b=n.extendComponentView({type:"tooltip",init:function(e,t){if(!a.node){var i,n=e.getComponent("tooltip"),o=n.get("renderMode");this._renderMode=v(o),"html"===this._renderMode?(i=new r(t.getDom(),t,{appendToBody:n.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new s(t),this._newLine="\n"),this._tooltipContent=i}},render:function(e,t,i){if(!a.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var n=this._tooltipContent;n.update(),n.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");p.register("itemTooltip",this._api,x((function(t,i,n){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,n):"leave"===t&&this._hide(n))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var n=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&n.manuallyShowTip(e,t,i,{x:n._lastX,y:n._lastY})}))}},manuallyShowTip:function(e,t,i,n){if(n.from!==this.uid&&!a.node){var o=S(n,i);this._ticket="";var r=n.dataByCoordSys;if(n.tooltip&&null!=n.x&&null!=n.y){var s=w;s.position=[n.x,n.y],s.update(),s.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:s},o)}else if(r)this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o);else if(null!=n.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,n))return;var l=c(n,t),d=l.point[0],h=l.point[1];null!=d&&null!=h&&this._tryShow({offsetX:d,offsetY:h,position:n.position,target:l.el},o)}else null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o))}},manuallyHideTip:function(e,t,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(S(n,i))},_manuallyAxisShowTip:function(e,t,i,n){var o=n.seriesIndex,a=n.dataIndex,r=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){var s=t.getSeriesByIndex(o);if(s)if("axis"===(e=I([s.getData().getItemModel(a),s,(s.coordinateSystem||{}).model,e])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var n=e.dataByCoordSys;n&&n.length?this._showAxisTooltip(n,e):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,i,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var i=e.get("showDelay");t=o.bind(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(e,t){var i=this._ecModel,n=this._tooltipModel,a=[t.offsetX,t.offsetY],r=[],s=[],d=I([t.tooltipOption,n]),h=this._renderMode,c=this._newLine,u={};y(e,(function(e){y(e.dataByAxis,(function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),n=e.value,a=[];if(t&&null!=n){var d=m.getValueLabel(n,t.axis,i,e.seriesDataIndices,e.valueLabelOpt);o.each(e.seriesDataIndices,(function(r){var l=i.getSeriesByIndex(r.seriesIndex),c=r.dataIndexInside,g=l&&l.getDataParams(c);if(g.axisDim=e.axisDim,g.axisIndex=e.axisIndex,g.axisType=e.axisType,g.axisId=e.axisId,g.axisValue=f.getAxisRawValue(t.axis,n),g.axisValueLabel=d,g){s.push(g);var p,m=l.formatTooltip(c,!0,null,h);if(o.isObject(m)){p=m.html;var v=m.markers;o.merge(u,v)}else p=m;a.push(p)}}));var g=d;"html"!==h?r.push(a.join(c)):r.push((g?l.encodeHTML(g)+c:"")+a.join(c))}}))}),this),r.reverse(),r=r.join(this._newLine+this._newLine);var g=t.position;this._showOrMove(d,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(d,g,a[0],a[1],this._tooltipContent,s):this._showTooltipContent(d,r,s,Math.random(),a[0],a[1],g,void 0,u)}))},_showSeriesItemTooltip:function(e,t,i){var n=this._ecModel,a=t.seriesIndex,r=n.getSeriesByIndex(a),s=t.dataModel||r,l=t.dataIndex,d=t.dataType,h=s.getData(d),c=I([h.getItemModel(l),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),u=c.get("trigger");if(null==u||"item"===u){var g,p,f=s.getDataParams(l,d),m=s.formatTooltip(l,!1,d,this._renderMode);o.isObject(m)?(g=m.html,p=m.markers):(g=m,p=null);var v="item_"+s.name+"_"+l;this._showOrMove(c,(function(){this._showTooltipContent(c,g,f,v,e.offsetX,e.offsetY,e.position,e.target,p)})),i({type:"showTip",dataIndexInside:l,dataIndex:h.getRawIndex(l),seriesIndex:a,from:this.uid})}},_showComponentItemTooltip:function(e,t,i){var n=t.tooltip;if("string"===typeof n){n={content:n,formatter:n}}var o=new g(n,this._tooltipModel,this._ecModel),a=o.get("content"),r=Math.random();this._showOrMove(o,(function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},r,e.offsetX,e.offsetY,e.position,t)})),i({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,i,n,o,a,r,s,d){if(this._ticket="",e.get("showContent")&&e.get("show")){var h=this._tooltipContent,c=e.get("formatter");r=r||e.get("position");var u=t;if(c&&"string"===typeof c)u=l.formatTpl(c,i,!0);else if("function"===typeof c){var g=x((function(t,n){t===this._ticket&&(h.setContent(n,d,e),this._updatePosition(e,r,o,a,h,i,s))}),this);this._ticket=n,u=c(i,n,g)}h.setContent(u,d,e),h.show(e),this._updatePosition(e,r,o,a,h,i,s)}},_updatePosition:function(e,t,i,n,a,r,s){var l=this._api.getWidth(),d=this._api.getHeight();t=t||e.get("position");var h=a.getSize(),c=e.get("align"),g=e.get("verticalAlign"),p=s&&s.getBoundingRect().clone();if(s&&p.applyTransform(s.transform),"function"===typeof t&&(t=t([i,n],r,a.el,p,{viewSize:[l,d],contentSize:h.slice()})),o.isArray(t))i=_(t[0],l),n=_(t[1],d);else if(o.isObject(t)){t.width=h[0],t.height=h[1];var f=u.getLayoutRect(t,{width:l,height:d});i=f.x,n=f.y,c=null,g=null}else if("string"===typeof t&&s){var m=function(e,t,i){var n=i[0],o=i[1],a=0,r=0,s=t.width,l=t.height;switch(e){case"inside":a=t.x+s/2-n/2,r=t.y+l/2-o/2;break;case"top":a=t.x+s/2-n/2,r=t.y-o-5;break;case"bottom":a=t.x+s/2-n/2,r=t.y+l+5;break;case"left":a=t.x-n-5,r=t.y+l/2-o/2;break;case"right":a=t.x+s+5,r=t.y+l/2-o/2}return[a,r]}(t,p,h);i=m[0],n=m[1]}else{m=function(e,t,i,n,o,a,r){var s=i.getOuterSize(),l=s.width,d=s.height;null!=a&&(e+l+a>n?e-=l+a:e+=a);null!=r&&(t+d+r>o?t-=d+r:t+=r);return[e,t]}(i,n,a,l,d,c?null:20,g?null:20);i=m[0],n=m[1]}if(c&&(i-=T(c)?h[0]/2:"right"===c?h[0]:0),g&&(n-=T(g)?h[1]/2:"bottom"===g?h[1]:0),e.get("confine")){m=function(e,t,i,n,o){var a=i.getOuterSize(),r=a.width,s=a.height;return e=Math.min(e+r,n)-r,t=Math.min(t+s,o)-s,e=Math.max(e,0),t=Math.max(t,0),[e,t]}(i,n,a,l,d);i=m[0],n=m[1]}a.moveTo(i,n)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,i=!!t&&t.length===e.length;return i&&y(t,(function(t,n){var o=t.dataByAxis||{},a=(e[n]||{}).dataByAxis||[];(i&=o.length===a.length)&&y(o,(function(e,t){var n=a[t]||{},o=e.seriesDataIndices||[],r=n.seriesDataIndices||[];(i&=e.value===n.value&&e.axisType===n.axisType&&e.axisId===n.axisId&&o.length===r.length)&&y(o,(function(e,t){var n=r[t];i&=e.seriesIndex===n.seriesIndex&&e.dataIndex===n.dataIndex}))}))})),this._lastDataByCoordSys=e,!!i},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){a.node||(this._tooltipContent.dispose(),p.unregister("itemTooltip",t))}});function I(e){for(var t=e.pop();e.length;){var i=e.pop();i&&(g.isInstance(i)&&(i=i.get("tooltip",!0)),"string"===typeof i&&(i={formatter:i}),t=new g(i,t,t.ecModel))}return t}function S(e,t){return e.dispatchAction||o.bind(t.dispatchAction,t)}function T(e){return"center"===e||"middle"===e}e.exports=b},807:function(e,t,i){var n=i(145),o=i(179),a=i(187),r=i(623),s=i(171),l=i(153),d=n.each,h=l.toCamelCase,c=["","-webkit-","-moz-","-o-"];function u(e){var t=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),r=e.getModel("textStyle"),u=e.get("padding");return i&&t.push(function(e){var t="left "+e+"s cubic-bezier(0.23, 1, 0.32, 1),top "+e+"s cubic-bezier(0.23, 1, 0.32, 1)";return n.map(c,(function(e){return e+"transition:"+t})).join(";")}(i)),a&&(s.canvasSupported?t.push("background-Color:"+a):(t.push("background-Color:#"+o.toHex(a)),t.push("filter:alpha(opacity=70)"))),d(["width","color","radius"],(function(i){var n="border-"+i,o=h(n),a=e.get(o);null!=a&&t.push(n+":"+a+("color"===i?"":"px"))})),t.push(function(e){var t=[],i=e.get("fontSize"),n=e.getTextColor();return n&&t.push("color:"+n),t.push("font:"+e.getFont()),i&&t.push("line-height:"+Math.round(3*i/2)+"px"),d(["decoration","align"],(function(i){var n=e.get(i);n&&t.push("text-"+i+":"+n)})),t.join(";")}(r)),null!=u&&t.push("padding:"+l.normalizeCssArray(u).join("px ")+"px"),t.join(";")+";"}function g(e,t,i,n,o){var a=t&&t.painter;if(i){var s=a&&a.getViewportRoot();s&&r.transformLocalCoord(e,s,document.body,n,o)}else{e[0]=n,e[1]=o;var l=a&&a.getViewportRootOffset();l&&(e[0]+=l.offsetLeft,e[1]+=l.offsetTop)}}function p(e,t,i){if(s.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=t.getZr(),r=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0],g(this._styleCoord,o,r,t.getWidth()/2,t.getHeight()/2),r?document.body.appendChild(n):e.appendChild(n),this._container=e,this._show=!1,this._hideTimeout;var l=this;n.onmouseenter=function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0},n.onmousemove=function(e){if(e=e||window.event,!l._enterable){var t=o.handler,i=o.painter.getViewportRoot();a.normalizeEvent(i,e,!0),t.dispatch("mousemove",e)}},n.onmouseleave=function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}}p.prototype={constructor:p,_enterable:!0,update:function(){var e=this._container,t=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==t.position&&(i.position="relative")},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,i=this._styleCoord;t.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+u(e)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var i=this._styleCoord;g(i,this._zr,this._appendToBody,e,t);var n=this.el.style;n.left=i[0]+"px",n.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(e+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),t+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:e,height:t}}};var f=p;e.exports=f},808:function(e,t,i){var n=i(145),o=i(189);function a(e){this._zr=e.getZr(),this._show=!1,this._hideTimeout}a.prototype={constructor:a,_enterable:!0,update:function(){},show:function(e){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,i){this.el&&this._zr.remove(this.el);for(var n={},a=e,r=a.indexOf("{marker");r>=0;){var s=a.indexOf("|}"),l=a.substr(r+"{marker".length,s-r-"{marker".length);l.indexOf("sub")>-1?n["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[l],textOffset:[3,0]}:n["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[l]},r=(a=a.substr(s+1)).indexOf("{marker")}this.el=new o({style:{rich:n,text:e,textLineHeight:20,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding")},z:i.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",(function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0})),this.el.on("mouseout",(function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){this.el&&this.el.attr("position",[e,t])},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(n.bind(this.hide,this),e)):this.hide())},isShow:function(){return this._show},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var r=a;e.exports=r},809:function(e,t,i){var n=i(146),o=i(145);function a(e,t,i){var n,a={},r="toggleSelected"===e;return i.eachComponent("legend",(function(i){r&&null!=n?i[n?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),n=i.isSelected(t.name));var s=i.getData();o.each(s,(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var n=i.isSelected(t);a.hasOwnProperty(t)?a[t]=a[t]&&n:a[t]=n}}))})),"allSelect"===e||"inverseSelect"===e?{selected:a}:{name:t.name,selected:a}}n.registerAction("legendToggleSelect","legendselectchanged",o.curry(a,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",o.curry(a,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",o.curry(a,"inverseSelect")),n.registerAction("legendSelect","legendselected",o.curry(a,"select")),n.registerAction("legendUnSelect","legendunselected",o.curry(a,"unSelect"))},810:function(e,t){e.exports=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))}},811:function(e,t,i){var n=i(660),o=i(150),a=o.mergeLayoutParam,r=o.getLayoutParams,s=n.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,i,n){var o=r(e);s.superCall(this,"init",e,t,i,n),l(this,e,o)},mergeOption:function(e,t){s.superCall(this,"mergeOption",e,t),l(this,this.option,e)}});function l(e,t,i){var n=[1,1];n[e.getOrient().index]=0,a(t,i,{type:"box",ignoreSize:n})}var d=s;e.exports=d},812:function(e,t,i){var n=i(145),o=i(147),a=i(150),r=i(661),s=o.Group,l=["width","height"],d=["x","y"],h=r.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){h.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new s),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new s),this._showController},resetInner:function(){h.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,i,a,r,s,l){var d=this;h.superCall(this,"renderInner",e,t,i,a,r,s,l);var c=this._controllerGroup,u=t.get("pageIconSize",!0);n.isArray(u)||(u=[u,u]),p("pagePrev",0);var g=t.getModel("pageTextStyle");function p(e,i){var r=e+"DataIndex",s=o.createIcon(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:n.bind(d._pageGo,d,r,t,a)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});s.name=e,c.add(s)}c.add(new o.Text({name:"pageText",style:{textFill:g.getTextColor(),font:g.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),p("pageNext",1)},layoutInner:function(e,t,i,o,r,s){var h=this.getSelectorGroup(),c=e.getOrient().index,u=l[c],g=d[c],p=l[1-c],f=d[1-c];r&&a.box("horizontal",h,e.get("selectorItemGap",!0));var m=e.get("selectorButtonGap",!0),v=h.getBoundingRect(),x=[-v.x,-v.y],y=n.clone(i);r&&(y[u]=i[u]-v[u]-m);var _=this._layoutContentAndController(e,o,y,c,u,p,f);if(r){if("end"===s)x[c]+=_[u]+m;else{var w=v[u]+m;x[c]-=w,_[g]-=w}_[u]+=v[u]+m,x[1-c]+=_[f]+_[p]/2-v[p]/2,_[p]=Math.max(_[p],v[p]),_[f]=Math.min(_[f],v[f]+x[1-c]),h.attr("position",x)}return _},_layoutContentAndController:function(e,t,i,r,s,l,d){var h=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;a.box(e.get("orient"),h,e.get("itemGap"),r?i.width:null,r?null:i.height),a.box("horizontal",u,e.get("pageButtonItemGap",!0));var g=h.getBoundingRect(),p=u.getBoundingRect(),f=this._showController=g[s]>i[s],m=[-g.x,-g.y];t||(m[r]=h.position[r]);var v=[0,0],x=[-p.x,-p.y],y=n.retrieve2(e.get("pageButtonGap",!0),e.get("itemGap",!0));f&&("end"===e.get("pageButtonPosition",!0)?x[r]+=i[s]-p[s]:v[r]+=p[s]+y);x[1-r]+=g[l]/2-p[l]/2,h.attr("position",m),c.attr("position",v),u.attr("position",x);var _={x:0,y:0};if(_[s]=f?i[s]:g[s],_[l]=Math.max(g[l],p[l]),_[d]=Math.min(0,p[d]+x[1-r]),c.__rectSize=i[s],f){var w={x:0,y:0};w[s]=Math.max(i[s]-p[s]-y,0),w[l]=_[l],c.setClipPath(new o.Rect({shape:w})),c.__rectSize=w[s]}else u.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(e);return null!=b.pageIndex&&o.updateProps(h,{position:b.contentPosition},!!f&&e),this._updatePageInfoView(e,b),_},_pageGo:function(e,t,i){var n=this._getPageInfo(t)[e];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},_updatePageInfoView:function(e,t){var i=this._controllerGroup;n.each(["pagePrev","pageNext"],(function(n){var o=null!=t[n+"DataIndex"],a=i.childOfName(n);a&&(a.setStyle("fill",o?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),a.cursor=o?"pointer":"default")}));var o=i.childOfName("pageText"),a=e.get("pageFormatter"),r=t.pageIndex,s=null!=r?r+1:0,l=t.pageCount;o&&a&&o.setStyle("text",n.isString(a)?a.replace("{current}",s).replace("{total}",l):a({current:s,total:l}))},_getPageInfo:function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,a=l[o],r=d[o],s=this._findTargetItemIndex(t),h=i.children(),c=h[s],u=h.length,g=u?1:0,p={contentPosition:i.position.slice(),pageCount:g,pageIndex:g-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var f=_(c);p.contentPosition[o]=-f.s;for(var m=s+1,v=f,x=f,y=null;m<=u;++m)(!(y=_(h[m]))&&x.e>v.s+n||y&&!w(y,v.s))&&(v=x.i>v.i?x:y)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=v.i),++p.pageCount),x=y;for(m=s-1,v=f,x=f,y=null;m>=-1;--m)(y=_(h[m]))&&w(x,y.s)||!(v.i<x.i)||(x=v,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=v.i),++p.pageCount,++p.pageIndex),v=y;return p;function _(e){if(e){var t=e.getBoundingRect(),i=t[r]+e.position[o];return{s:i,e:i+t[a],i:e.__legendDataIndex}}}function w(e,t){return e.e>=t&&e.s<=t+n}},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild((function(n,o){var a=n.__legendDataIndex;null==i&&null!=a&&(i=o),a===e&&(t=o)})),null!=t?t:i):0;var t,i}}),c=h;e.exports=c},813:function(e,t,i){i(146).registerAction("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}))}}]);
//# sourceMappingURL=2.5974b02f.chunk.js.map