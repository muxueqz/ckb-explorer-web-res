{"version":3,"sources":["../node_modules/echarts/lib/visual/symbol.js","../node_modules/echarts/lib/chart/helper/SymbolDraw.js","../node_modules/echarts/lib/chart/helper/createClipPathFromCoordSys.js","../node_modules/echarts/lib/layout/points.js","../node_modules/echarts/lib/component/gridSimple.js","../node_modules/echarts/lib/coord/axisModelCreator.js","../node_modules/echarts/lib/chart/line.js","../node_modules/echarts/lib/chart/helper/Symbol.js","../node_modules/echarts/lib/chart/helper/labelHelper.js","../node_modules/echarts/lib/coord/cartesian/Grid.js","../node_modules/echarts/lib/chart/line/poly.js","../node_modules/echarts/lib/coord/axisDefault.js","../node_modules/echarts/lib/component/axis/axisSplitHelper.js","../node_modules/echarts/lib/chart/line/helper.js","../node_modules/echarts/lib/coord/cartesian/AxisModel.js","../node_modules/echarts/lib/chart/line/LineSeries.js","../node_modules/echarts/lib/chart/line/LineView.js","../node_modules/echarts/lib/chart/line/lineAnimationDiff.js","../node_modules/echarts/lib/processor/dataSample.js","../node_modules/echarts/lib/coord/cartesian/Cartesian2D.js","../node_modules/echarts/lib/coord/cartesian/Cartesian.js","../node_modules/echarts/lib/coord/cartesian/Axis2D.js","../node_modules/echarts/lib/coord/cartesian/GridModel.js","../node_modules/echarts/lib/component/axis.js","../node_modules/echarts/lib/component/axis/CartesianAxisView.js"],"names":["isFunction","require","module","exports","seriesType","defaultSymbolType","legendSymbol","performRawSeries","reset","seriesModel","ecModel","api","data","getData","symbolType","get","symbolSize","keepAspect","symbolRotate","hasSymbolTypeCallback","hasSymbolSizeCallback","hasSymbolRotateCallback","hasCallback","seriesSymbol","seriesSymbolSize","setVisual","symbol","symbolKeepAspect","isSeriesFiltered","dataEach","hasItemOption","idx","rawValue","getRawValue","params","getDataParams","setItemVisual","itemModel","getItemModel","itemSymbolType","getShallow","itemSymbolSize","itemSymbolRotate","itemSymbolKeepAspect","graphic","SymbolClz","isObject","SymbolDraw","symbolCtor","this","group","Group","_symbolCtor","symbolDrawProto","prototype","symbolNeedsDraw","point","opt","isNaN","isIgnore","clipShape","contain","getItemVisual","normalizeUpdateOpt","makeSeriesScope","hostModel","itemStyle","getModel","getItemStyle","hoverItemStyle","symbolOffset","hoverAnimation","labelModel","hoverLabelModel","cursorStyle","updateData","oldData","_data","SymbolCtor","seriesScope","removeAll","diff","add","newIdx","getItemLayout","symbolEl","attr","setItemGraphicEl","update","oldIdx","getItemGraphicEl","updateProps","position","remove","el","fadeOut","execute","isPersistent","updateLayout","eachItemGraphicEl","incrementalPrepareUpdate","_seriesScope","incrementalUpdate","taskParams","updateIncrementalAndHover","isGroup","incremental","useHoverLayer","start","end","traverse","enableAnimation","_default","round","createGridClipPath","cartesian","hasAnimation","rect","getArea","isHorizontal","getBaseAxis","x","y","width","height","lineWidth","Math","floor","clipPath","Rect","shape","initProps","createPolarClipPath","polar","sectorArea","Sector","cx","cy","r0","r","startAngle","endAngle","clockwise","createClipPath","coordSys","type","map","createRenderPlanner","isDimensionStacked","plan","coordinateSystem","isLargeRender","pipelineContext","large","dims","dimensions","dim","mapDimension","slice","dimLen","length","stackResultDim","getCalculationInfo","progress","segCount","points","Float32Array","i","offset","tmpIn","tmpOut","dataToPoint","NaN","setItemLayout","setLayout","echarts","zrUtil","extendComponentView","render","gridModel","getRect","style","defaults","fill","silent","z2","registerPreprocessor","option","xAxis","yAxis","grid","axisDefault","ComponentModel","_layout","getLayoutParams","mergeLayoutParam","OrdinalMeta","AXIS_TYPES","axisName","BaseAxisModelClass","axisTypeDefaulter","extraDefaultOption","each","axisType","extend","mergeDefaultAndTheme","layoutMode","inputPositionParams","themeModel","getTheme","merge","getDefaultOption","optionUpdated","__ordinalMeta","createByAxisModel","getCategories","rawData","categories","getOrdinalMeta","defaultOption","mergeAll","registerSubTypeDefaulter","curry","visualSymbol","layoutPoints","dataSample","registerVisual","registerLayout","registerProcessor","PRIORITY","PROCESSOR","STATISTIC","createSymbol","parsePercent","getDefaultLabel","call","symbolProto","getSymbolSize","Array","getScale","driftSymbol","dx","dy","parent","drift","_createSymbol","color","symbolPath","culling","scale","_symbolType","stopSymbolAnimation","toLastFrame","childAt","stopAnimation","getSymbolPath","highlight","trigger","downplay","setZ","zlevel","z","setDraggable","draggable","cursor","isInit","_updateCommon","fadeIn","target","opacity","_seriesModel","normalStyleAccessPath","emphasisStyleAccessPath","normalLabelAccessPath","emphasisLabelAccessPath","highDownOnUpdate","fromState","toState","__symbolOriginalScale","ratio","emphasisOpt","max","animateTo","useStyle","strokeNoScale","setStyle","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","elStyle","PI","setColor","symbolInnerColor","liftZ","z2Origin","__z2Origin","useNameLabel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","getName","isRectText","autoColor","hoverStyle","isAnimationEnabled","setHoverStyle","cb","keepLabel","text","dataIndex","inherits","retrieveRawValue","labelDims","len","vals","val","push","join","__DEV__","_util","indexOf","getLayoutRect","retrieve","_axisHelper","createScaleByModel","ifAxisCrossZero","niceScaleExtent","estimateLabelUnionRect","Cartesian2D","Axis2D","CoordinateSystem","getStackedDimension","isAxisUsedInTheGrid","axisModel","getCoordSysModel","Grid","_coordsMap","_coordsList","_axesMap","_axesList","_initCartesian","model","gridProto","fixAxisOnZero","axesMap","otherAxisDim","axis","onZeroRecords","getAxesOnZeroOf","otherAxisOnZeroOf","otherAxes","onZero","onZeroAxisIndex","canOnZeroToAxis","hasOwnProperty","getOnZeroRecordKey","index","axisPointerEnabled","_rect","_updateScale","resize","ignoreContainLabel","gridRect","getBoxLayoutParams","getWidth","getHeight","axesList","adjustAxes","extent","inverse","setExtent","coordBase","axisExtent","getExtent","axisExtentSum","toGlobalCoord","coord","toLocalCoord","updateAxisTransform","labelUnionRect","margin","getAxis","axisIndex","axesMapOnDim","name","getAxes","getCartesian","xAxisIndex","yAxisIndex","key","coordList","getCartesians","convertToPixel","finder","value","_findConvertTarget","dataToCoord","convertFromPixel","pointToData","coordToData","xAxisModel","getReferringComponents","yAxisModel","coordsList","componentIndex","containPoint","axisPositionUsed","left","right","top","bottom","axesCount","eachComponent","createAxisCreator","axisPosition","isCategory","onBand","addAxis","unionExtent","unionExtentFromData","Infinity","eachSeries","isCartesian2D","axesModels","findAxesModels","getTooltipAxes","baseAxes","baseAxis","otherAxis","getOtherAxis","axesTypes","create","grids","register","Path","vec2","fixClipWithShadow","vec2Min","min","vec2Max","scaleAndAdd","v2Copy","copy","v","cp0","cp1","isPointNull","p","drawSegment","ctx","segLen","allLen","dir","smoothMin","smoothMax","smooth","smoothMonotone","connectNulls","drawMono","apply","arguments","drawNonMono","prevIdx","k","prevP","ctrlLen","bezierCurveTo","lineTo","nextIdx","nextP","ratioNextSeg","lenPrevSeg","lenNextSeg","sub","abs","dist","getBoundingBox","smoothConstraint","ptMin","ptMax","pt","Polyline","stroke","brush","buildPath","result","Polygon","stackedOnPoints","stackedOnSmooth","bbox","stackedOnBBox","closePath","show","nameLocation","nameRotate","nameTruncate","maxWidth","ellipsis","placeholder","nameTextStyle","nameGap","triggerEvent","tooltip","axisPointer","axisLine","lineStyle","axisTick","inside","axisLabel","rotate","showMinLabel","showMaxLabel","fontSize","splitLine","splitArea","areaStyle","categoryAxis","boundaryGap","deduplication","alignWithLabel","interval","valueAxis","splitNumber","minorTick","minorSplitLine","timeAxis","logAxis","logBase","rectCoordAxisBuildSplitArea","axisView","axisGroup","isBlank","splitAreaModel","areaStyleModel","areaColors","ticksCoords","getTicksCoords","tickModel","clamp","areaColorsLen","lastSplitAreaColors","__splitAreaColors","newSplitAreaColors","createHashMap","colorIndex","cIndex","tickValue","prev","getAreaStyle","isArray","tickCoord","set","anid","rectCoordAxisHandleRemove","prepareDataCoordInfo","valueOrigin","stacked","valueStart","getValueStart","baseAxisDim","valueAxisDim","valueDim","baseDim","baseDataOffset","coordDim","dataDimsForPoint","stackedOverDimension","getStackedOnPoint","dataCoordInfo","stackedData","axisModelCreator","axisModelCommonMixin","AxisModel","init","superApply","resetRange","mergeOption","restoreData","queryComponents","mainType","gridIndex","id","gridId","getAxisType","axisDim","extraOption","createListFromArray","dependencies","getInitialData","getSource","useEncodeDefaulter","legendHoverLink","clip","label","step","showSymbol","showAllSymbol","sampling","animationEasing","progressive","hoverLayerThreshold","fromPoints","lineAnimationDiff","modelUtil","_poly","ChartView","_helper","_createClipPathFromCoordSys","isPointsSame","points1","points2","p1","p2","getBoundingDiff","min1","max1","min2","max2","getSmooth","turnPointsIntoStep","stepTurnAt","baseIndex","stepPoints","nextPt","stepPt","middle","stepPt2","getIsIgnoreFunc","isAuto","getAxesByScale","availSize","count","dataLen","canShowAllSymbolForCategory","categoryDataDim","labelMap","getViewLabels","labelItem","createLineClipPath","rectShape","expandSize","lineGroup","symbolDraw","_symbolDraw","_lineGroup","lineStyleModel","mapArray","isCoordSysPolar","prevCoordSys","_coordSys","polyline","_polyline","polygon","_polygon","isAreaChart","isEmpty","getStackedOnPoints","isIgnoreFunc","__temp","clipShapeForSymbol","r1","_clipShapeForSymbol","_step","_newPolygon","setClipPath","_stackedOnPoints","_points","_updateAnimation","setShape","_newPolyline","visualColor","visualMetaList","getVisual","visualMeta","dimIndex","dimension","dimName","dimInfo","getDimensionInfo","colorStops","stops","stop","stopLen","outerColors","reverse","minCoord","maxCoord","coordSpan","unshift","gradient","LinearGradient","getVisualGradient","getLineStyle","lineJoin","stackedOnSeries","_valueOrigin","dispose","payload","queryDataIndex","ignore","current","stackedOnCurrent","next","stackedOnNext","__points","updatedDataInfo","diffStatus","status","cmd","idx1","ptIdx","animators","during","newData","oldStackedOnPoints","newStackedOnPoints","oldCoordSys","newCoordSys","oldValueOrigin","newValueOrigin","diffResult","diffData","currPoints","nextPoints","currStackedPoints","nextStackedPoints","sortedIndices","rawIndices","newDataOldCoordInfo","oldDataNewCoordInfo","diffItem","pointAdded","currentPt","getRawIndex","rawIndex","sort","a","b","sortedCurrPoints","sortedNextPoints","sortedCurrStackedPoints","sortedNextStackedPoints","sortedStatus","samplers","average","frame","sum","isFinite","nearest","indexSampler","modifyOutputEnd","sampler","size","rate","setData","downSample","BoundingRect","Cartesian","constructor","axisX","axisY","containData","reserved","out","clampData","xScale","yScale","xAxisExtent","yAxisExtent","parse","xExtent","getGlobalExtent","yExtent","dimAxisMapper","_axes","_dimList","scaleType","toLowerCase","filter","_dataCoordConvert","input","method","dimList","output","Axis","coordExtent","asc","ret","containLabel","backgroundColor","borderWidth","borderColor","AxisBuilder","AxisView","cartesianAxisHelper","_axisSplitHelper","axisBuilderAttrs","selfBuilderAttrs","CartesianAxisView","axisPointerClass","oldAxisGroup","_axisGroup","layout","axisBuilder","getGroup","groupTransition","superCall","_splitLine","splitLineModel","lineColors","lineCount","Line","subPixelOptimize","x1","y1","x2","y2","_minorSplitLine","minorTicksCoords","getMinorTicksCoords","_splitArea"],"mappings":"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","file":"static/js/3.d6296c61.chunk.js","sourcesContent":["\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isFunction = _util.isFunction;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction _default(seriesType, defaultSymbolType, legendSymbol) {\n  // Encoding visual for all series include which is filtered for legend drawing\n  return {\n    seriesType: seriesType,\n    // For legend.\n    performRawSeries: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var symbolType = seriesModel.get('symbol');\n      var symbolSize = seriesModel.get('symbolSize');\n      var keepAspect = seriesModel.get('symbolKeepAspect');\n      var symbolRotate = seriesModel.get('symbolRotate');\n      var hasSymbolTypeCallback = isFunction(symbolType);\n      var hasSymbolSizeCallback = isFunction(symbolSize);\n      var hasSymbolRotateCallback = isFunction(symbolRotate);\n      var hasCallback = hasSymbolTypeCallback || hasSymbolSizeCallback || hasSymbolRotateCallback;\n      var seriesSymbol = !hasSymbolTypeCallback && symbolType ? symbolType : defaultSymbolType;\n      var seriesSymbolSize = !hasSymbolSizeCallback ? symbolSize : null;\n      var seriesSymbolRotate = !hasSymbolRotateCallback ? seriesSymbolRotate : null;\n      data.setVisual({\n        legendSymbol: legendSymbol || seriesSymbol,\n        // If seting callback functions on `symbol` or `symbolSize`, for simplicity and avoiding\n        // to bring trouble, we do not pick a reuslt from one of its calling on data item here,\n        // but just use the default value. Callback on `symbol` or `symbolSize` is convenient in\n        // some cases but generally it is not recommanded.\n        symbol: seriesSymbol,\n        symbolSize: seriesSymbolSize,\n        symbolKeepAspect: keepAspect,\n        symbolRotate: symbolRotate\n      }); // Only visible series has each data be visual encoded\n\n      if (ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n\n      function dataEach(data, idx) {\n        if (hasCallback) {\n          var rawValue = seriesModel.getRawValue(idx);\n          var params = seriesModel.getDataParams(idx);\n          hasSymbolTypeCallback && data.setItemVisual(idx, 'symbol', symbolType(rawValue, params));\n          hasSymbolSizeCallback && data.setItemVisual(idx, 'symbolSize', symbolSize(rawValue, params));\n          hasSymbolRotateCallback && data.setItemVisual(idx, 'symbolRotate', symbolRotate(rawValue, params));\n        }\n\n        if (data.hasItemOption) {\n          var itemModel = data.getItemModel(idx);\n          var itemSymbolType = itemModel.getShallow('symbol', true);\n          var itemSymbolSize = itemModel.getShallow('symbolSize', true);\n          var itemSymbolRotate = itemModel.getShallow('symbolRotate', true);\n          var itemSymbolKeepAspect = itemModel.getShallow('symbolKeepAspect', true); // If has item symbol\n\n          if (itemSymbolType != null) {\n            data.setItemVisual(idx, 'symbol', itemSymbolType);\n          }\n\n          if (itemSymbolSize != null) {\n            // PENDING Transform symbolSize ?\n            data.setItemVisual(idx, 'symbolSize', itemSymbolSize);\n          }\n\n          if (itemSymbolRotate != null) {\n            data.setItemVisual(idx, 'symbolRotate', itemSymbolRotate);\n          }\n\n          if (itemSymbolKeepAspect != null) {\n            data.setItemVisual(idx, 'symbolKeepAspect', itemSymbolKeepAspect);\n          }\n        }\n      }\n\n      return {\n        dataEach: data.hasItemOption || hasCallback ? dataEach : null\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"./Symbol\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/SymbolDraw\n */\n\n/**\n * @constructor\n * @alias module:echarts/chart/helper/SymbolDraw\n * @param {module:zrender/graphic/Group} [symbolCtor]\n */\nfunction SymbolDraw(symbolCtor) {\n  this.group = new graphic.Group();\n  this._symbolCtor = symbolCtor || SymbolClz;\n}\n\nvar symbolDrawProto = SymbolDraw.prototype;\n\nfunction symbolNeedsDraw(data, point, idx, opt) {\n  return point && !isNaN(point[0]) && !isNaN(point[1]) && !(opt.isIgnore && opt.isIgnore(idx)) // We do not set clipShape on group, because it will cut part of\n  // the symbol element shape. We use the same clip shape here as\n  // the line clip.\n  && !(opt.clipShape && !opt.clipShape.contain(point[0], point[1])) && data.getItemVisual(idx, 'symbol') !== 'none';\n}\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.updateData = function (data, opt) {\n  opt = normalizeUpdateOpt(opt);\n  var group = this.group;\n  var seriesModel = data.hostModel;\n  var oldData = this._data;\n  var SymbolCtor = this._symbolCtor;\n  var seriesScope = makeSeriesScope(data); // There is no oldLineData only when first rendering or switching from\n  // stream mode to normal mode, where previous elements should be removed.\n\n  if (!oldData) {\n    group.removeAll();\n  }\n\n  data.diff(oldData).add(function (newIdx) {\n    var point = data.getItemLayout(newIdx);\n\n    if (symbolNeedsDraw(data, point, newIdx, opt)) {\n      var symbolEl = new SymbolCtor(data, newIdx, seriesScope);\n      symbolEl.attr('position', point);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx);\n    var point = data.getItemLayout(newIdx);\n\n    if (!symbolNeedsDraw(data, point, newIdx, opt)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new SymbolCtor(data, newIdx);\n      symbolEl.attr('position', point);\n    } else {\n      symbolEl.updateData(data, newIdx, seriesScope);\n      graphic.updateProps(symbolEl, {\n        position: point\n      }, seriesModel);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && el.fadeOut(function () {\n      group.remove(el);\n    });\n  }).execute();\n  this._data = data;\n};\n\nsymbolDrawProto.isPersistent = function () {\n  return true;\n};\n\nsymbolDrawProto.updateLayout = function () {\n  var data = this._data;\n\n  if (data) {\n    // Not use animation\n    data.eachItemGraphicEl(function (el, idx) {\n      var point = data.getItemLayout(idx);\n      el.attr('position', point);\n    });\n  }\n};\n\nsymbolDrawProto.incrementalPrepareUpdate = function (data) {\n  this._seriesScope = makeSeriesScope(data);\n  this._data = null;\n  this.group.removeAll();\n};\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n * @param {Object} [opt] Or isIgnore\n * @param {Function} [opt.isIgnore]\n * @param {Object} [opt.clipShape]\n */\n\n\nsymbolDrawProto.incrementalUpdate = function (taskParams, data, opt) {\n  opt = normalizeUpdateOpt(opt);\n\n  function updateIncrementalAndHover(el) {\n    if (!el.isGroup) {\n      el.incremental = el.useHoverLayer = true;\n    }\n  }\n\n  for (var idx = taskParams.start; idx < taskParams.end; idx++) {\n    var point = data.getItemLayout(idx);\n\n    if (symbolNeedsDraw(data, point, idx, opt)) {\n      var el = new this._symbolCtor(data, idx, this._seriesScope);\n      el.traverse(updateIncrementalAndHover);\n      el.attr('position', point);\n      this.group.add(el);\n      data.setItemGraphicEl(idx, el);\n    }\n  }\n};\n\nfunction normalizeUpdateOpt(opt) {\n  if (opt != null && !isObject(opt)) {\n    opt = {\n      isIgnore: opt\n    };\n  }\n\n  return opt || {};\n}\n\nsymbolDrawProto.remove = function (enableAnimation) {\n  var group = this.group;\n  var data = this._data; // Incremental model do not have this._data.\n\n  if (data && enableAnimation) {\n    data.eachItemGraphicEl(function (el) {\n      el.fadeOut(function () {\n        group.remove(el);\n      });\n    });\n  } else {\n    group.removeAll();\n  }\n};\n\nfunction makeSeriesScope(data) {\n  var seriesModel = data.hostModel;\n  return {\n    itemStyle: seriesModel.getModel('itemStyle').getItemStyle(['color']),\n    hoverItemStyle: seriesModel.getModel('emphasis.itemStyle').getItemStyle(),\n    symbolRotate: seriesModel.get('symbolRotate'),\n    symbolOffset: seriesModel.get('symbolOffset'),\n    hoverAnimation: seriesModel.get('hoverAnimation'),\n    labelModel: seriesModel.getModel('label'),\n    hoverLabelModel: seriesModel.getModel('emphasis.label'),\n    cursorStyle: seriesModel.get('cursor')\n  };\n}\n\nvar _default = SymbolDraw;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction createGridClipPath(cartesian, hasAnimation, seriesModel) {\n  var rect = cartesian.getArea();\n  var isHorizontal = cartesian.getBaseAxis().isHorizontal();\n  var x = rect.x;\n  var y = rect.y;\n  var width = rect.width;\n  var height = rect.height;\n  var lineWidth = seriesModel.get('lineStyle.width') || 2; // Expand the clip path a bit to avoid the border is clipped and looks thinner\n\n  x -= lineWidth / 2;\n  y -= lineWidth / 2;\n  width += lineWidth;\n  height += lineWidth; // fix: https://github.com/apache/incubator-echarts/issues/11369\n\n  x = Math.floor(x);\n  width = Math.round(width);\n  var clipPath = new graphic.Rect({\n    shape: {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape[isHorizontal ? 'width' : 'height'] = 0;\n    graphic.initProps(clipPath, {\n      shape: {\n        width: width,\n        height: height\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createPolarClipPath(polar, hasAnimation, seriesModel) {\n  var sectorArea = polar.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n\n  var clipPath = new graphic.Sector({\n    shape: {\n      cx: round(polar.cx, 1),\n      cy: round(polar.cy, 1),\n      r0: round(sectorArea.r0, 1),\n      r: round(sectorArea.r, 1),\n      startAngle: sectorArea.startAngle,\n      endAngle: sectorArea.endAngle,\n      clockwise: sectorArea.clockwise\n    }\n  });\n\n  if (hasAnimation) {\n    clipPath.shape.endAngle = sectorArea.startAngle;\n    graphic.initProps(clipPath, {\n      shape: {\n        endAngle: sectorArea.endAngle\n      }\n    }, seriesModel);\n  }\n\n  return clipPath;\n}\n\nfunction createClipPath(coordSys, hasAnimation, seriesModel) {\n  if (!coordSys) {\n    return null;\n  } else if (coordSys.type === 'polar') {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  } else if (coordSys.type === 'cartesian2d') {\n    return createGridClipPath(coordSys, hasAnimation, seriesModel);\n  }\n\n  return null;\n}\n\nexports.createGridClipPath = createGridClipPath;\nexports.createPolarClipPath = createPolarClipPath;\nexports.createClipPath = createClipPath;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    plan: createRenderPlanner(),\n    reset: function (seriesModel) {\n      var data = seriesModel.getData();\n      var coordSys = seriesModel.coordinateSystem;\n      var pipelineContext = seriesModel.pipelineContext;\n      var isLargeRender = pipelineContext.large;\n\n      if (!coordSys) {\n        return;\n      }\n\n      var dims = map(coordSys.dimensions, function (dim) {\n        return data.mapDimension(dim);\n      }).slice(0, 2);\n      var dimLen = dims.length;\n      var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n      if (isDimensionStacked(data, dims[0]\n      /*, dims[1]*/\n      )) {\n        dims[0] = stackResultDim;\n      }\n\n      if (isDimensionStacked(data, dims[1]\n      /*, dims[0]*/\n      )) {\n        dims[1] = stackResultDim;\n      }\n\n      function progress(params, data) {\n        var segCount = params.end - params.start;\n        var points = isLargeRender && new Float32Array(segCount * dimLen);\n\n        for (var i = params.start, offset = 0, tmpIn = [], tmpOut = []; i < params.end; i++) {\n          var point;\n\n          if (dimLen === 1) {\n            var x = data.get(dims[0], i);\n            point = !isNaN(x) && coordSys.dataToPoint(x, null, tmpOut);\n          } else {\n            var x = tmpIn[0] = data.get(dims[0], i);\n            var y = tmpIn[1] = data.get(dims[1], i); // Also {Array.<number>}, not undefined to avoid if...else... statement\n\n            point = !isNaN(x) && !isNaN(y) && coordSys.dataToPoint(tmpIn, null, tmpOut);\n          }\n\n          if (isLargeRender) {\n            points[offset++] = point ? point[0] : NaN;\n            points[offset++] = point ? point[1] : NaN;\n          } else {\n            data.setItemLayout(i, point && point.slice() || [NaN, NaN]);\n          }\n        }\n\n        isLargeRender && data.setLayout('symbolPoints', points);\n      }\n\n      return dimLen && {\n        progress: progress\n      };\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid view\necharts.extendComponentView({\n  type: 'grid',\n  render: function (gridModel, ecModel) {\n    this.group.removeAll();\n\n    if (gridModel.get('show')) {\n      this.group.add(new graphic.Rect({\n        shape: gridModel.coordinateSystem.getRect(),\n        style: zrUtil.defaults({\n          fill: gridModel.get('backgroundColor')\n        }, gridModel.getItemStyle()),\n        silent: true,\n        z2: -1\n      }));\n    }\n  }\n});\necharts.registerPreprocessor(function (option) {\n  // Only create grid when need\n  if (option.xAxis && option.yAxis && !option.grid) {\n    option.grid = {};\n  }\n});","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"./axisDefault\");\n\nvar ComponentModel = require(\"../model/Component\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME axisType is fixed ?\nvar AXIS_TYPES = ['value', 'category', 'time', 'log'];\n/**\n * Generate sub axis model class\n * @param {string} axisName 'x' 'y' 'radius' 'angle' 'parallel'\n * @param {module:echarts/model/Component} BaseAxisModelClass\n * @param {Function} axisTypeDefaulter\n * @param {Object} [extraDefaultOption]\n */\n\nfunction _default(axisName, BaseAxisModelClass, axisTypeDefaulter, extraDefaultOption) {\n  zrUtil.each(AXIS_TYPES, function (axisType) {\n    BaseAxisModelClass.extend({\n      /**\n       * @readOnly\n       */\n      type: axisName + 'Axis.' + axisType,\n      mergeDefaultAndTheme: function (option, ecModel) {\n        var layoutMode = this.layoutMode;\n        var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n        var themeModel = ecModel.getTheme();\n        zrUtil.merge(option, themeModel.get(axisType + 'Axis'));\n        zrUtil.merge(option, this.getDefaultOption());\n        option.type = axisTypeDefaulter(axisName, option);\n\n        if (layoutMode) {\n          mergeLayoutParam(option, inputPositionParams, layoutMode);\n        }\n      },\n\n      /**\n       * @override\n       */\n      optionUpdated: function () {\n        var thisOption = this.option;\n\n        if (thisOption.type === 'category') {\n          this.__ordinalMeta = OrdinalMeta.createByAxisModel(this);\n        }\n      },\n\n      /**\n       * Should not be called before all of 'getInitailData' finished.\n       * Because categories are collected during initializing data.\n       */\n      getCategories: function (rawData) {\n        var option = this.option; // FIXME\n        // warning if called before all of 'getInitailData' finished.\n\n        if (option.type === 'category') {\n          if (rawData) {\n            return option.data;\n          }\n\n          return this.__ordinalMeta.categories;\n        }\n      },\n      getOrdinalMeta: function () {\n        return this.__ordinalMeta;\n      },\n      defaultOption: zrUtil.mergeAll([{}, axisDefault[axisType + 'Axis'], extraDefaultOption], true)\n    });\n  });\n  ComponentModel.registerSubTypeDefaulter(axisName + 'Axis', zrUtil.curry(axisTypeDefaulter, axisName));\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar echarts = require(\"../echarts\");\n\nrequire(\"./line/LineSeries\");\n\nrequire(\"./line/LineView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nvar dataSample = require(\"../processor/dataSample\");\n\nrequire(\"../component/gridSimple\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// In case developer forget to include grid component\necharts.registerVisual(visualSymbol('line', 'circle', 'line'));\necharts.registerLayout(layoutPoints('line')); // Down sample after filter\n\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, dataSample('line'));","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _labelHelper = require(\"./labelHelper\");\n\nvar getDefaultLabel = _labelHelper.getDefaultLabel;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/chart/helper/Symbol\n */\n\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/Symbol}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\nfunction SymbolClz(data, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.updateData(data, idx, seriesScope);\n}\n\nvar symbolProto = SymbolClz.prototype;\n/**\n * @public\n * @static\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {Array.<number>} [width, height]\n */\n\nvar getSymbolSize = SymbolClz.getSymbolSize = function (data, idx) {\n  var symbolSize = data.getItemVisual(idx, 'symbolSize');\n  return symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n};\n\nfunction getScale(symbolSize) {\n  return [symbolSize[0] / 2, symbolSize[1] / 2];\n}\n\nfunction driftSymbol(dx, dy) {\n  this.parent.drift(dx, dy);\n}\n\nsymbolProto._createSymbol = function (symbolType, data, idx, symbolSize, keepAspect) {\n  // Remove paths created before\n  this.removeAll();\n  var color = data.getItemVisual(idx, 'color'); // var symbolPath = createSymbol(\n  //     symbolType, -0.5, -0.5, 1, 1, color\n  // );\n  // If width/height are set too small (e.g., set to 1) on ios10\n  // and macOS Sierra, a circle stroke become a rect, no matter what\n  // the scale is set. So we set width/height as 2. See #4150.\n\n  var symbolPath = createSymbol(symbolType, -1, -1, 2, 2, color, keepAspect);\n  symbolPath.attr({\n    z2: 100,\n    culling: true,\n    scale: getScale(symbolSize)\n  }); // Rewrite drift method\n\n  symbolPath.drift = driftSymbol;\n  this._symbolType = symbolType;\n  this.add(symbolPath);\n};\n/**\n * Stop animation\n * @param {boolean} toLastFrame\n */\n\n\nsymbolProto.stopSymbolAnimation = function (toLastFrame) {\n  this.childAt(0).stopAnimation(toLastFrame);\n};\n/**\n * FIXME:\n * Caution: This method breaks the encapsulation of this module,\n * but it indeed brings convenience. So do not use the method\n * unless you detailedly know all the implements of `Symbol`,\n * especially animation.\n *\n * Get symbol path element.\n */\n\n\nsymbolProto.getSymbolPath = function () {\n  return this.childAt(0);\n};\n/**\n * Get scale(aka, current symbol size).\n * Including the change caused by animation\n */\n\n\nsymbolProto.getScale = function () {\n  return this.childAt(0).scale;\n};\n/**\n * Highlight symbol\n */\n\n\nsymbolProto.highlight = function () {\n  this.childAt(0).trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\nsymbolProto.downplay = function () {\n  this.childAt(0).trigger('normal');\n};\n/**\n * @param {number} zlevel\n * @param {number} z\n */\n\n\nsymbolProto.setZ = function (zlevel, z) {\n  var symbolPath = this.childAt(0);\n  symbolPath.zlevel = zlevel;\n  symbolPath.z = z;\n};\n\nsymbolProto.setDraggable = function (draggable) {\n  var symbolPath = this.childAt(0);\n  symbolPath.draggable = draggable;\n  symbolPath.cursor = draggable ? 'move' : symbolPath.cursor;\n};\n/**\n * Update symbol properties\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Object} [seriesScope]\n * @param {Object} [seriesScope.itemStyle]\n * @param {Object} [seriesScope.hoverItemStyle]\n * @param {Object} [seriesScope.symbolRotate]\n * @param {Object} [seriesScope.symbolOffset]\n * @param {module:echarts/model/Model} [seriesScope.labelModel]\n * @param {module:echarts/model/Model} [seriesScope.hoverLabelModel]\n * @param {boolean} [seriesScope.hoverAnimation]\n * @param {Object} [seriesScope.cursorStyle]\n * @param {module:echarts/model/Model} [seriesScope.itemModel]\n * @param {string} [seriesScope.symbolInnerColor]\n * @param {Object} [seriesScope.fadeIn=false]\n */\n\n\nsymbolProto.updateData = function (data, idx, seriesScope) {\n  this.silent = false;\n  var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n  var seriesModel = data.hostModel;\n  var symbolSize = getSymbolSize(data, idx);\n  var isInit = symbolType !== this._symbolType;\n\n  if (isInit) {\n    var keepAspect = data.getItemVisual(idx, 'symbolKeepAspect');\n\n    this._createSymbol(symbolType, data, idx, symbolSize, keepAspect);\n  } else {\n    var symbolPath = this.childAt(0);\n    symbolPath.silent = false;\n    graphic.updateProps(symbolPath, {\n      scale: getScale(symbolSize)\n    }, seriesModel, idx);\n  }\n\n  this._updateCommon(data, idx, symbolSize, seriesScope);\n\n  if (isInit) {\n    var symbolPath = this.childAt(0);\n    var fadeIn = seriesScope && seriesScope.fadeIn;\n    var target = {\n      scale: symbolPath.scale.slice()\n    };\n    fadeIn && (target.style = {\n      opacity: symbolPath.style.opacity\n    });\n    symbolPath.scale = [0, 0];\n    fadeIn && (symbolPath.style.opacity = 0);\n    graphic.initProps(symbolPath, target, seriesModel, idx);\n  }\n\n  this._seriesModel = seriesModel;\n}; // Update common properties\n\n\nvar normalStyleAccessPath = ['itemStyle'];\nvar emphasisStyleAccessPath = ['emphasis', 'itemStyle'];\nvar normalLabelAccessPath = ['label'];\nvar emphasisLabelAccessPath = ['emphasis', 'label'];\n/**\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Array.<number>} symbolSize\n * @param {Object} [seriesScope]\n */\n\nsymbolProto._updateCommon = function (data, idx, symbolSize, seriesScope) {\n  var symbolPath = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var color = data.getItemVisual(idx, 'color'); // Reset style\n\n  if (symbolPath.type !== 'image') {\n    symbolPath.useStyle({\n      strokeNoScale: true\n    });\n  } else {\n    symbolPath.setStyle({\n      opacity: null,\n      shadowBlur: null,\n      shadowOffsetX: null,\n      shadowOffsetY: null,\n      shadowColor: null\n    });\n  }\n\n  var itemStyle = seriesScope && seriesScope.itemStyle;\n  var hoverItemStyle = seriesScope && seriesScope.hoverItemStyle;\n  var symbolOffset = seriesScope && seriesScope.symbolOffset;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel;\n  var hoverAnimation = seriesScope && seriesScope.hoverAnimation;\n  var cursorStyle = seriesScope && seriesScope.cursorStyle;\n\n  if (!seriesScope || data.hasItemOption) {\n    var itemModel = seriesScope && seriesScope.itemModel ? seriesScope.itemModel : data.getItemModel(idx); // Color must be excluded.\n    // Because symbol provide setColor individually to set fill and stroke\n\n    itemStyle = itemModel.getModel(normalStyleAccessPath).getItemStyle(['color']);\n    hoverItemStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n    symbolOffset = itemModel.getShallow('symbolOffset');\n    labelModel = itemModel.getModel(normalLabelAccessPath);\n    hoverLabelModel = itemModel.getModel(emphasisLabelAccessPath);\n    hoverAnimation = itemModel.getShallow('hoverAnimation');\n    cursorStyle = itemModel.getShallow('cursor');\n  } else {\n    hoverItemStyle = zrUtil.extend({}, hoverItemStyle);\n  }\n\n  var elStyle = symbolPath.style;\n  var symbolRotate = data.getItemVisual(idx, 'symbolRotate');\n  symbolPath.attr('rotation', (symbolRotate || 0) * Math.PI / 180 || 0);\n\n  if (symbolOffset) {\n    symbolPath.attr('position', [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])]);\n  }\n\n  cursorStyle && symbolPath.attr('cursor', cursorStyle); // PENDING setColor before setStyle!!!\n\n  symbolPath.setColor(color, seriesScope && seriesScope.symbolInnerColor);\n  symbolPath.setStyle(itemStyle);\n  var opacity = data.getItemVisual(idx, 'opacity');\n\n  if (opacity != null) {\n    elStyle.opacity = opacity;\n  }\n\n  var liftZ = data.getItemVisual(idx, 'liftZ');\n  var z2Origin = symbolPath.__z2Origin;\n\n  if (liftZ != null) {\n    if (z2Origin == null) {\n      symbolPath.__z2Origin = symbolPath.z2;\n      symbolPath.z2 += liftZ;\n    }\n  } else if (z2Origin != null) {\n    symbolPath.z2 = z2Origin;\n    symbolPath.__z2Origin = null;\n  }\n\n  var useNameLabel = seriesScope && seriesScope.useNameLabel;\n  graphic.setLabelStyle(elStyle, hoverItemStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: idx,\n    defaultText: getLabelDefaultText,\n    isRectText: true,\n    autoColor: color\n  }); // Do not execute util needed.\n\n  function getLabelDefaultText(idx, opt) {\n    return useNameLabel ? data.getName(idx) : getDefaultLabel(data, idx);\n  }\n\n  symbolPath.__symbolOriginalScale = getScale(symbolSize);\n  symbolPath.hoverStyle = hoverItemStyle;\n  symbolPath.highDownOnUpdate = hoverAnimation && seriesModel.isAnimationEnabled() ? highDownOnUpdate : null;\n  graphic.setHoverStyle(symbolPath);\n};\n\nfunction highDownOnUpdate(fromState, toState) {\n  // Do not support this hover animation util some scenario required.\n  // Animation can only be supported in hover layer when using `el.incremetal`.\n  if (this.incremental || this.useHoverLayer) {\n    return;\n  }\n\n  if (toState === 'emphasis') {\n    var scale = this.__symbolOriginalScale;\n    var ratio = scale[1] / scale[0];\n    var emphasisOpt = {\n      scale: [Math.max(scale[0] * 1.1, scale[0] + 3), Math.max(scale[1] * 1.1, scale[1] + 3 * ratio)]\n    }; // FIXME\n    // modify it after support stop specified animation.\n    // toState === fromState\n    //     ? (this.stopAnimation(), this.attr(emphasisOpt))\n\n    this.animateTo(emphasisOpt, 400, 'elasticOut');\n  } else if (toState === 'normal') {\n    this.animateTo({\n      scale: this.__symbolOriginalScale\n    }, 400, 'elasticOut');\n  }\n}\n/**\n * @param {Function} cb\n * @param {Object} [opt]\n * @param {Object} [opt.keepLabel=true]\n */\n\n\nsymbolProto.fadeOut = function (cb, opt) {\n  var symbolPath = this.childAt(0); // Avoid mistaken hover when fading out\n\n  this.silent = symbolPath.silent = true; // Not show text when animating\n\n  !(opt && opt.keepLabel) && (symbolPath.style.text = null);\n  graphic.updateProps(symbolPath, {\n    style: {\n      opacity: 0\n    },\n    scale: [0, 0]\n  }, this._seriesModel, this.dataIndex, cb);\n};\n\nzrUtil.inherits(SymbolClz, graphic.Group);\nvar _default = SymbolClz;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @return {string} label string. Not null/undefined\n */\nfunction getDefaultLabel(data, dataIndex) {\n  var labelDims = data.mapDimension('defaultedLabel', true);\n  var len = labelDims.length; // Simple optimization (in lots of cases, label dims length is 1)\n\n  if (len === 1) {\n    return retrieveRawValue(data, dataIndex, labelDims[0]);\n  } else if (len) {\n    var vals = [];\n\n    for (var i = 0; i < labelDims.length; i++) {\n      var val = retrieveRawValue(data, dataIndex, labelDims[i]);\n      vals.push(val);\n    }\n\n    return vals.join(' ');\n  }\n}\n\nexports.getDefaultLabel = getDefaultLabel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isObject = _util.isObject;\nvar each = _util.each;\nvar map = _util.map;\nvar indexOf = _util.indexOf;\nvar retrieve = _util.retrieve;\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar ifAxisCrossZero = _axisHelper.ifAxisCrossZero;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\nvar estimateLabelUnionRect = _axisHelper.estimateLabelUnionRect;\n\nvar Cartesian2D = require(\"./Cartesian2D\");\n\nvar Axis2D = require(\"./Axis2D\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nrequire(\"./GridModel\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Grid is a region which contains at most 4 cartesian systems\n *\n * TODO Default cartesian\n */\n// Depends on GridModel, AxisModel, which performs preprocess.\n\n/**\n * Check if the axis is used in the specified grid\n * @inner\n */\nfunction isAxisUsedInTheGrid(axisModel, gridModel, ecModel) {\n  return axisModel.getCoordSysModel() === gridModel;\n}\n\nfunction Grid(gridModel, ecModel, api) {\n  /**\n   * @type {Object.<string, module:echarts/coord/cartesian/Cartesian2D>}\n   * @private\n   */\n  this._coordsMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Cartesian>}\n   * @private\n   */\n\n  this._coordsList = [];\n  /**\n   * @type {Object.<string, Array.<module:echarts/coord/cartesian/Axis2D>>}\n   * @private\n   */\n\n  this._axesMap = {};\n  /**\n   * @type {Array.<module:echarts/coord/cartesian/Axis2D>}\n   * @private\n   */\n\n  this._axesList = [];\n\n  this._initCartesian(gridModel, ecModel, api);\n\n  this.model = gridModel;\n}\n\nvar gridProto = Grid.prototype;\ngridProto.type = 'grid';\ngridProto.axisPointerEnabled = true;\n\ngridProto.getRect = function () {\n  return this._rect;\n};\n\ngridProto.update = function (ecModel, api) {\n  var axesMap = this._axesMap;\n\n  this._updateScale(ecModel, this.model);\n\n  each(axesMap.x, function (xAxis) {\n    niceScaleExtent(xAxis.scale, xAxis.model);\n  });\n  each(axesMap.y, function (yAxis) {\n    niceScaleExtent(yAxis.scale, yAxis.model);\n  }); // Key: axisDim_axisIndex, value: boolean, whether onZero target.\n\n  var onZeroRecords = {};\n  each(axesMap.x, function (xAxis) {\n    fixAxisOnZero(axesMap, 'y', xAxis, onZeroRecords);\n  });\n  each(axesMap.y, function (yAxis) {\n    fixAxisOnZero(axesMap, 'x', yAxis, onZeroRecords);\n  }); // Resize again if containLabel is enabled\n  // FIXME It may cause getting wrong grid size in data processing stage\n\n  this.resize(this.model, api);\n};\n\nfunction fixAxisOnZero(axesMap, otherAxisDim, axis, onZeroRecords) {\n  axis.getAxesOnZeroOf = function () {\n    // TODO: onZero of multiple axes.\n    return otherAxisOnZeroOf ? [otherAxisOnZeroOf] : [];\n  }; // onZero can not be enabled in these two situations:\n  // 1. When any other axis is a category axis.\n  // 2. When no axis is cross 0 point.\n\n\n  var otherAxes = axesMap[otherAxisDim];\n  var otherAxisOnZeroOf;\n  var axisModel = axis.model;\n  var onZero = axisModel.get('axisLine.onZero');\n  var onZeroAxisIndex = axisModel.get('axisLine.onZeroAxisIndex');\n\n  if (!onZero) {\n    return;\n  } // If target axis is specified.\n\n\n  if (onZeroAxisIndex != null) {\n    if (canOnZeroToAxis(otherAxes[onZeroAxisIndex])) {\n      otherAxisOnZeroOf = otherAxes[onZeroAxisIndex];\n    }\n  } else {\n    // Find the first available other axis.\n    for (var idx in otherAxes) {\n      if (otherAxes.hasOwnProperty(idx) && canOnZeroToAxis(otherAxes[idx]) // Consider that two Y axes on one value axis,\n      // if both onZero, the two Y axes overlap.\n      && !onZeroRecords[getOnZeroRecordKey(otherAxes[idx])]) {\n        otherAxisOnZeroOf = otherAxes[idx];\n        break;\n      }\n    }\n  }\n\n  if (otherAxisOnZeroOf) {\n    onZeroRecords[getOnZeroRecordKey(otherAxisOnZeroOf)] = true;\n  }\n\n  function getOnZeroRecordKey(axis) {\n    return axis.dim + '_' + axis.index;\n  }\n}\n\nfunction canOnZeroToAxis(axis) {\n  return axis && axis.type !== 'category' && axis.type !== 'time' && ifAxisCrossZero(axis);\n}\n/**\n * Resize the grid\n * @param {module:echarts/coord/cartesian/GridModel} gridModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\ngridProto.resize = function (gridModel, api, ignoreContainLabel) {\n  var gridRect = getLayoutRect(gridModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n  this._rect = gridRect;\n  var axesList = this._axesList;\n  adjustAxes(); // Minus label size\n\n  if (!ignoreContainLabel && gridModel.get('containLabel')) {\n    each(axesList, function (axis) {\n      if (!axis.model.get('axisLabel.inside')) {\n        var labelUnionRect = estimateLabelUnionRect(axis);\n\n        if (labelUnionRect) {\n          var dim = axis.isHorizontal() ? 'height' : 'width';\n          var margin = axis.model.get('axisLabel.margin');\n          gridRect[dim] -= labelUnionRect[dim] + margin;\n\n          if (axis.position === 'top') {\n            gridRect.y += labelUnionRect.height + margin;\n          } else if (axis.position === 'left') {\n            gridRect.x += labelUnionRect.width + margin;\n          }\n        }\n      }\n    });\n    adjustAxes();\n  }\n\n  function adjustAxes() {\n    each(axesList, function (axis) {\n      var isHorizontal = axis.isHorizontal();\n      var extent = isHorizontal ? [0, gridRect.width] : [0, gridRect.height];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(extent[idx], extent[1 - idx]);\n      updateAxisTransform(axis, isHorizontal ? gridRect.x : gridRect.y);\n    });\n  }\n};\n/**\n * @param {string} axisType\n * @param {number} [axisIndex]\n */\n\n\ngridProto.getAxis = function (axisType, axisIndex) {\n  var axesMapOnDim = this._axesMap[axisType];\n\n  if (axesMapOnDim != null) {\n    if (axisIndex == null) {\n      // Find first axis\n      for (var name in axesMapOnDim) {\n        if (axesMapOnDim.hasOwnProperty(name)) {\n          return axesMapOnDim[name];\n        }\n      }\n    }\n\n    return axesMapOnDim[axisIndex];\n  }\n};\n/**\n * @return {Array.<module:echarts/coord/Axis>}\n */\n\n\ngridProto.getAxes = function () {\n  return this._axesList.slice();\n};\n/**\n * Usage:\n *      grid.getCartesian(xAxisIndex, yAxisIndex);\n *      grid.getCartesian(xAxisIndex);\n *      grid.getCartesian(null, yAxisIndex);\n *      grid.getCartesian({xAxisIndex: ..., yAxisIndex: ...});\n *\n * @param {number|Object} [xAxisIndex]\n * @param {number} [yAxisIndex]\n */\n\n\ngridProto.getCartesian = function (xAxisIndex, yAxisIndex) {\n  if (xAxisIndex != null && yAxisIndex != null) {\n    var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n    return this._coordsMap[key];\n  }\n\n  if (isObject(xAxisIndex)) {\n    yAxisIndex = xAxisIndex.yAxisIndex;\n    xAxisIndex = xAxisIndex.xAxisIndex;\n  } // When only xAxisIndex or yAxisIndex given, find its first cartesian.\n\n\n  for (var i = 0, coordList = this._coordsList; i < coordList.length; i++) {\n    if (coordList[i].getAxis('x').index === xAxisIndex || coordList[i].getAxis('y').index === yAxisIndex) {\n      return coordList[i];\n    }\n  }\n};\n\ngridProto.getCartesians = function () {\n  return this._coordsList.slice();\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertToPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.dataToPoint(value) : target.axis ? target.axis.toGlobalCoord(target.axis.dataToCoord(value)) : null;\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.convertFromPixel = function (ecModel, finder, value) {\n  var target = this._findConvertTarget(ecModel, finder);\n\n  return target.cartesian ? target.cartesian.pointToData(value) : target.axis ? target.axis.coordToData(target.axis.toLocalCoord(value)) : null;\n};\n/**\n * @inner\n */\n\n\ngridProto._findConvertTarget = function (ecModel, finder) {\n  var seriesModel = finder.seriesModel;\n  var xAxisModel = finder.xAxisModel || seriesModel && seriesModel.getReferringComponents('xAxis')[0];\n  var yAxisModel = finder.yAxisModel || seriesModel && seriesModel.getReferringComponents('yAxis')[0];\n  var gridModel = finder.gridModel;\n  var coordsList = this._coordsList;\n  var cartesian;\n  var axis;\n\n  if (seriesModel) {\n    cartesian = seriesModel.coordinateSystem;\n    indexOf(coordsList, cartesian) < 0 && (cartesian = null);\n  } else if (xAxisModel && yAxisModel) {\n    cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  } else if (xAxisModel) {\n    axis = this.getAxis('x', xAxisModel.componentIndex);\n  } else if (yAxisModel) {\n    axis = this.getAxis('y', yAxisModel.componentIndex);\n  } // Lowest priority.\n  else if (gridModel) {\n      var grid = gridModel.coordinateSystem;\n\n      if (grid === this) {\n        cartesian = this._coordsList[0];\n      }\n    }\n\n  return {\n    cartesian: cartesian,\n    axis: axis\n  };\n};\n/**\n * @implements\n * see {module:echarts/CoodinateSystem}\n */\n\n\ngridProto.containPoint = function (point) {\n  var coord = this._coordsList[0];\n\n  if (coord) {\n    return coord.containPoint(point);\n  }\n};\n/**\n * Initialize cartesian coordinate systems\n * @private\n */\n\n\ngridProto._initCartesian = function (gridModel, ecModel, api) {\n  var axisPositionUsed = {\n    left: false,\n    right: false,\n    top: false,\n    bottom: false\n  };\n  var axesMap = {\n    x: {},\n    y: {}\n  };\n  var axesCount = {\n    x: 0,\n    y: 0\n  }; /// Create axis\n\n  ecModel.eachComponent('xAxis', createAxisCreator('x'), this);\n  ecModel.eachComponent('yAxis', createAxisCreator('y'), this);\n\n  if (!axesCount.x || !axesCount.y) {\n    // Roll back when there no either x or y axis\n    this._axesMap = {};\n    this._axesList = [];\n    return;\n  }\n\n  this._axesMap = axesMap; /// Create cartesian2d\n\n  each(axesMap.x, function (xAxis, xAxisIndex) {\n    each(axesMap.y, function (yAxis, yAxisIndex) {\n      var key = 'x' + xAxisIndex + 'y' + yAxisIndex;\n      var cartesian = new Cartesian2D(key);\n      cartesian.grid = this;\n      cartesian.model = gridModel;\n      this._coordsMap[key] = cartesian;\n\n      this._coordsList.push(cartesian);\n\n      cartesian.addAxis(xAxis);\n      cartesian.addAxis(yAxis);\n    }, this);\n  }, this);\n\n  function createAxisCreator(axisType) {\n    return function (axisModel, idx) {\n      if (!isAxisUsedInTheGrid(axisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var axisPosition = axisModel.get('position');\n\n      if (axisType === 'x') {\n        // Fix position\n        if (axisPosition !== 'top' && axisPosition !== 'bottom') {\n          // Default bottom of X\n          axisPosition = axisPositionUsed.bottom ? 'top' : 'bottom';\n        }\n      } else {\n        // Fix position\n        if (axisPosition !== 'left' && axisPosition !== 'right') {\n          // Default left of Y\n          axisPosition = axisPositionUsed.left ? 'right' : 'left';\n        }\n      }\n\n      axisPositionUsed[axisPosition] = true;\n      var axis = new Axis2D(axisType, createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisPosition);\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Inject axis into axisModel\n\n      axisModel.axis = axis; // Inject axisModel into axis\n\n      axis.model = axisModel; // Inject grid info axis\n\n      axis.grid = this; // Index of axis, can be used as key\n\n      axis.index = idx;\n\n      this._axesList.push(axis);\n\n      axesMap[axisType][idx] = axis;\n      axesCount[axisType]++;\n    };\n  }\n};\n/**\n * Update cartesian properties from series\n * @param  {module:echarts/model/Option} option\n * @private\n */\n\n\ngridProto._updateScale = function (ecModel, gridModel) {\n  // Reset scale\n  each(this._axesList, function (axis) {\n    axis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (isCartesian2D(seriesModel)) {\n      var axesModels = findAxesModels(seriesModel, ecModel);\n      var xAxisModel = axesModels[0];\n      var yAxisModel = axesModels[1];\n\n      if (!isAxisUsedInTheGrid(xAxisModel, gridModel, ecModel) || !isAxisUsedInTheGrid(yAxisModel, gridModel, ecModel)) {\n        return;\n      }\n\n      var cartesian = this.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n      var data = seriesModel.getData();\n      var xAxis = cartesian.getAxis('x');\n      var yAxis = cartesian.getAxis('y');\n\n      if (data.type === 'list') {\n        unionExtent(data, xAxis, seriesModel);\n        unionExtent(data, yAxis, seriesModel);\n      }\n    }\n  }, this);\n\n  function unionExtent(data, axis, seriesModel) {\n    each(data.mapDimension(axis.dim, true), function (dim) {\n      axis.scale.unionExtentFromData( // For example, the extent of the orginal dimension\n      // is [0.1, 0.5], the extent of the `stackResultDimension`\n      // is [7, 9], the final extent should not include [0.1, 0.5].\n      data, getStackedDimension(data, dim));\n    });\n  }\n};\n/**\n * @param {string} [dim] 'x' or 'y' or 'auto' or null/undefined\n * @return {Object} {baseAxes: [], otherAxes: []}\n */\n\n\ngridProto.getTooltipAxes = function (dim) {\n  var baseAxes = [];\n  var otherAxes = [];\n  each(this.getCartesians(), function (cartesian) {\n    var baseAxis = dim != null && dim !== 'auto' ? cartesian.getAxis(dim) : cartesian.getBaseAxis();\n    var otherAxis = cartesian.getOtherAxis(baseAxis);\n    indexOf(baseAxes, baseAxis) < 0 && baseAxes.push(baseAxis);\n    indexOf(otherAxes, otherAxis) < 0 && otherAxes.push(otherAxis);\n  });\n  return {\n    baseAxes: baseAxes,\n    otherAxes: otherAxes\n  };\n};\n/**\n * @inner\n */\n\n\nfunction updateAxisTransform(axis, coordBase) {\n  var axisExtent = axis.getExtent();\n  var axisExtentSum = axisExtent[0] + axisExtent[1]; // Fast transform\n\n  axis.toGlobalCoord = axis.dim === 'x' ? function (coord) {\n    return coord + coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n  axis.toLocalCoord = axis.dim === 'x' ? function (coord) {\n    return coord - coordBase;\n  } : function (coord) {\n    return axisExtentSum - coord + coordBase;\n  };\n}\n\nvar axesTypes = ['xAxis', 'yAxis'];\n/**\n * @inner\n */\n\nfunction findAxesModels(seriesModel, ecModel) {\n  return map(axesTypes, function (axisType) {\n    var axisModel = seriesModel.getReferringComponents(axisType)[0];\n    return axisModel;\n  });\n}\n/**\n * @inner\n */\n\n\nfunction isCartesian2D(seriesModel) {\n  return seriesModel.get('coordinateSystem') === 'cartesian2d';\n}\n\nGrid.create = function (ecModel, api) {\n  var grids = [];\n  ecModel.eachComponent('grid', function (gridModel, idx) {\n    var grid = new Grid(gridModel, ecModel, api);\n    grid.name = 'grid_' + idx; // dataSampling requires axis extent, so resize\n    // should be performed in create stage.\n\n    grid.resize(gridModel, api, true);\n    gridModel.coordinateSystem = grid;\n    grids.push(grid);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (!isCartesian2D(seriesModel)) {\n      return;\n    }\n\n    var axesModels = findAxesModels(seriesModel, ecModel);\n    var xAxisModel = axesModels[0];\n    var yAxisModel = axesModels[1];\n    var gridModel = xAxisModel.getCoordSysModel();\n    var grid = gridModel.coordinateSystem;\n    seriesModel.coordinateSystem = grid.getCartesian(xAxisModel.componentIndex, yAxisModel.componentIndex);\n  });\n  return grids;\n}; // For deciding which dimensions to use when creating list data\n\n\nGrid.dimensions = Grid.prototype.dimensions = Cartesian2D.prototype.dimensions;\nCoordinateSystem.register('cartesian2d', Grid);\nvar _default = Grid;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar fixClipWithShadow = require(\"zrender/lib/graphic/helper/fixClipWithShadow\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Poly path support NaN point\nvar vec2Min = vec2.min;\nvar vec2Max = vec2.max;\nvar scaleAndAdd = vec2.scaleAndAdd;\nvar v2Copy = vec2.copy; // Temporary variable\n\nvar v = [];\nvar cp0 = [];\nvar cp1 = [];\n\nfunction isPointNull(p) {\n  return isNaN(p[0]) || isNaN(p[1]);\n}\n\nfunction drawSegment(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  // if (smoothMonotone == null) {\n  //     if (isMono(points, 'x')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'x', connectNulls);\n  //     }\n  //     else if (isMono(points, 'y')) {\n  //         return drawMono(ctx, points, start, segLen, allLen,\n  //             dir, smoothMin, smoothMax, smooth, 'y', connectNulls);\n  //     }\n  //     else {\n  //         return drawNonMono.apply(this, arguments);\n  //     }\n  // }\n  // else if (smoothMonotone !== 'none' && isMono(points, smoothMonotone)) {\n  //     return drawMono.apply(this, arguments);\n  // }\n  // else {\n  //     return drawNonMono.apply(this, arguments);\n  // }\n  if (smoothMonotone === 'none' || !smoothMonotone) {\n    return drawNonMono.apply(this, arguments);\n  } else {\n    return drawMono.apply(this, arguments);\n  }\n}\n/**\n * Check if points is in monotone.\n *\n * @param {number[][]} points         Array of points which is in [x, y] form\n * @param {string}     smoothMonotone 'x', 'y', or 'none', stating for which\n *                                    dimension that is checking.\n *                                    If is 'none', `drawNonMono` should be\n *                                    called.\n *                                    If is undefined, either being monotone\n *                                    in 'x' or 'y' will call `drawMono`.\n */\n// function isMono(points, smoothMonotone) {\n//     if (points.length <= 1) {\n//         return true;\n//     }\n//     var dim = smoothMonotone === 'x' ? 0 : 1;\n//     var last = points[0][dim];\n//     var lastDiff = 0;\n//     for (var i = 1; i < points.length; ++i) {\n//         var diff = points[i][dim] - last;\n//         if (!isNaN(diff) && !isNaN(lastDiff)\n//             && diff !== 0 && lastDiff !== 0\n//             && ((diff >= 0) !== (lastDiff >= 0))\n//         ) {\n//             return false;\n//         }\n//         if (!isNaN(diff) && diff !== 0) {\n//             lastDiff = diff;\n//             last = points[i][dim];\n//         }\n//     }\n//     return true;\n// }\n\n/**\n * Draw smoothed line in monotone, in which only vertical or horizontal bezier\n * control points will be used. This should be used when points are monotone\n * either in x or y dimension.\n */\n\n\nfunction drawMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n    } else {\n      if (smooth > 0) {\n        var prevP = points[prevIdx];\n        var dim = smoothMonotone === 'y' ? 1 : 0; // Length of control point to p, either in x or y, but not both\n\n        var ctrlLen = (p[dim] - prevP[dim]) * smooth;\n        v2Copy(cp0, prevP);\n        cp0[dim] = prevP[dim] + ctrlLen;\n        v2Copy(cp1, p);\n        cp1[dim] = p[dim] - ctrlLen;\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n/**\n * Draw smoothed line in non-monotone, in may cause undesired curve in extreme\n * situations. This should be used when points are non-monotone neither in x or\n * y dimension.\n */\n\n\nfunction drawNonMono(ctx, points, start, segLen, allLen, dir, smoothMin, smoothMax, smooth, smoothMonotone, connectNulls) {\n  var prevIdx = 0;\n  var idx = start;\n\n  for (var k = 0; k < segLen; k++) {\n    var p = points[idx];\n\n    if (idx >= allLen || idx < 0) {\n      break;\n    }\n\n    if (isPointNull(p)) {\n      if (connectNulls) {\n        idx += dir;\n        continue;\n      }\n\n      break;\n    }\n\n    if (idx === start) {\n      ctx[dir > 0 ? 'moveTo' : 'lineTo'](p[0], p[1]);\n      v2Copy(cp0, p);\n    } else {\n      if (smooth > 0) {\n        var nextIdx = idx + dir;\n        var nextP = points[nextIdx];\n\n        if (connectNulls) {\n          // Find next point not null\n          while (nextP && isPointNull(points[nextIdx])) {\n            nextIdx += dir;\n            nextP = points[nextIdx];\n          }\n        }\n\n        var ratioNextSeg = 0.5;\n        var prevP = points[prevIdx];\n        var nextP = points[nextIdx]; // Last point\n\n        if (!nextP || isPointNull(nextP)) {\n          v2Copy(cp1, p);\n        } else {\n          // If next data is null in not connect case\n          if (isPointNull(nextP) && !connectNulls) {\n            nextP = p;\n          }\n\n          vec2.sub(v, nextP, prevP);\n          var lenPrevSeg;\n          var lenNextSeg;\n\n          if (smoothMonotone === 'x' || smoothMonotone === 'y') {\n            var dim = smoothMonotone === 'x' ? 0 : 1;\n            lenPrevSeg = Math.abs(p[dim] - prevP[dim]);\n            lenNextSeg = Math.abs(p[dim] - nextP[dim]);\n          } else {\n            lenPrevSeg = vec2.dist(p, prevP);\n            lenNextSeg = vec2.dist(p, nextP);\n          } // Use ratio of seg length\n\n\n          ratioNextSeg = lenNextSeg / (lenNextSeg + lenPrevSeg);\n          scaleAndAdd(cp1, p, v, -smooth * (1 - ratioNextSeg));\n        } // Smooth constraint\n\n\n        vec2Min(cp0, cp0, smoothMax);\n        vec2Max(cp0, cp0, smoothMin);\n        vec2Min(cp1, cp1, smoothMax);\n        vec2Max(cp1, cp1, smoothMin);\n        ctx.bezierCurveTo(cp0[0], cp0[1], cp1[0], cp1[1], p[0], p[1]); // cp0 of next segment\n\n        scaleAndAdd(cp0, p, v, smooth * ratioNextSeg);\n      } else {\n        ctx.lineTo(p[0], p[1]);\n      }\n    }\n\n    prevIdx = idx;\n    idx += dir;\n  }\n\n  return k;\n}\n\nfunction getBoundingBox(points, smoothConstraint) {\n  var ptMin = [Infinity, Infinity];\n  var ptMax = [-Infinity, -Infinity];\n\n  if (smoothConstraint) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (pt[0] < ptMin[0]) {\n        ptMin[0] = pt[0];\n      }\n\n      if (pt[1] < ptMin[1]) {\n        ptMin[1] = pt[1];\n      }\n\n      if (pt[0] > ptMax[0]) {\n        ptMax[0] = pt[0];\n      }\n\n      if (pt[1] > ptMax[1]) {\n        ptMax[1] = pt[1];\n      }\n    }\n  }\n\n  return {\n    min: smoothConstraint ? ptMin : ptMax,\n    max: smoothConstraint ? ptMax : ptMin\n  };\n}\n\nvar Polyline = Path.extend({\n  type: 'ec-polyline',\n  shape: {\n    points: [],\n    smooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  style: {\n    fill: null,\n    stroke: '#000'\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var i = 0;\n    var len = points.length;\n    var result = getBoundingBox(points, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      i += drawSegment(ctx, points, i, len, len, 1, result.min, result.max, shape.smooth, shape.smoothMonotone, shape.connectNulls) + 1;\n    }\n  }\n});\nvar Polygon = Path.extend({\n  type: 'ec-polygon',\n  shape: {\n    points: [],\n    // Offset between stacked base points and points\n    stackedOnPoints: [],\n    smooth: 0,\n    stackedOnSmooth: 0,\n    smoothConstraint: true,\n    smoothMonotone: null,\n    connectNulls: false\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function (ctx, shape) {\n    var points = shape.points;\n    var stackedOnPoints = shape.stackedOnPoints;\n    var i = 0;\n    var len = points.length;\n    var smoothMonotone = shape.smoothMonotone;\n    var bbox = getBoundingBox(points, shape.smoothConstraint);\n    var stackedOnBBox = getBoundingBox(stackedOnPoints, shape.smoothConstraint);\n\n    if (shape.connectNulls) {\n      // Must remove first and last null values avoid draw error in polygon\n      for (; len > 0; len--) {\n        if (!isPointNull(points[len - 1])) {\n          break;\n        }\n      }\n\n      for (; i < len; i++) {\n        if (!isPointNull(points[i])) {\n          break;\n        }\n      }\n    }\n\n    while (i < len) {\n      var k = drawSegment(ctx, points, i, len, len, 1, bbox.min, bbox.max, shape.smooth, smoothMonotone, shape.connectNulls);\n      drawSegment(ctx, stackedOnPoints, i + k - 1, k, len, -1, stackedOnBBox.min, stackedOnBBox.max, shape.stackedOnSmooth, smoothMonotone, shape.connectNulls);\n      i += k + 1;\n      ctx.closePath();\n    }\n  }\n});\nexports.Polyline = Polyline;\nexports.Polygon = Polygon;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar defaultOption = {\n  show: true,\n  zlevel: 0,\n  z: 0,\n  // Inverse the axis.\n  inverse: false,\n  // Axis name displayed.\n  name: '',\n  // 'start' | 'middle' | 'end'\n  nameLocation: 'end',\n  // By degree. By defualt auto rotate by nameLocation.\n  nameRotate: null,\n  nameTruncate: {\n    maxWidth: null,\n    ellipsis: '...',\n    placeholder: '.'\n  },\n  // Use global text style by default.\n  nameTextStyle: {},\n  // The gap between axisName and axisLine.\n  nameGap: 15,\n  // Default `false` to support tooltip.\n  silent: false,\n  // Default `false` to avoid legacy user event listener fail.\n  triggerEvent: false,\n  tooltip: {\n    show: false\n  },\n  axisPointer: {},\n  axisLine: {\n    show: true,\n    onZero: true,\n    onZeroAxisIndex: null,\n    lineStyle: {\n      color: '#333',\n      width: 1,\n      type: 'solid'\n    },\n    // The arrow at both ends the the axis.\n    symbol: ['none', 'none'],\n    symbolSize: [10, 15]\n  },\n  axisTick: {\n    show: true,\n    // Whether axisTick is inside the grid or outside the grid.\n    inside: false,\n    // The length of axisTick.\n    length: 5,\n    lineStyle: {\n      width: 1\n    }\n  },\n  axisLabel: {\n    show: true,\n    // Whether axisLabel is inside the grid or outside the grid.\n    inside: false,\n    rotate: 0,\n    // true | false | null/undefined (auto)\n    showMinLabel: null,\n    // true | false | null/undefined (auto)\n    showMaxLabel: null,\n    margin: 8,\n    // formatter: null,\n    fontSize: 12\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      color: ['#ccc'],\n      width: 1,\n      type: 'solid'\n    }\n  },\n  splitArea: {\n    show: false,\n    areaStyle: {\n      color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)']\n    }\n  }\n};\nvar axisDefault = {};\naxisDefault.categoryAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For categoryAxis, boolean.\n  boundaryGap: true,\n  // Set false to faster category collection.\n  // Only usefull in the case like: category is\n  // ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // null means \"auto\":\n  // if axis.data provided, do not deduplication,\n  // else do deduplication.\n  deduplication: null,\n  // splitArea: {\n  // show: false\n  // },\n  splitLine: {\n    show: false\n  },\n  axisTick: {\n    // If tick is align with label when boundaryGap is true\n    alignWithLabel: false,\n    interval: 'auto'\n  },\n  axisLabel: {\n    interval: 'auto'\n  }\n}, defaultOption);\naxisDefault.valueAxis = zrUtil.merge({\n  // The gap at both ends of the axis. For value axis, [GAP, GAP], where\n  // `GAP` can be an absolute pixel number (like `35`), or percent (like `'30%'`)\n  boundaryGap: [0, 0],\n  // TODO\n  // min/max: [30, datamin, 60] or [20, datamin] or [datamin, 60]\n  // Min value of the axis. can be:\n  // + a number\n  // + 'dataMin': use the min value in data.\n  // + null/undefined: auto decide min value (consider pretty look and boundaryGap).\n  // min: null,\n  // Max value of the axis. can be:\n  // + a number\n  // + 'dataMax': use the max value in data.\n  // + null/undefined: auto decide max value (consider pretty look and boundaryGap).\n  // max: null,\n  // Readonly prop, specifies start value of the range when using data zoom.\n  // rangeStart: null\n  // Readonly prop, specifies end value of the range when using data zoom.\n  // rangeEnd: null\n  // Optional value can be:\n  // + `false`: always include value 0.\n  // + `true`: the extent do not consider value 0.\n  // scale: false,\n  // AxisTick and axisLabel and splitLine are caculated based on splitNumber.\n  splitNumber: 5,\n  // Interval specifies the span of the ticks is mandatorily.\n  // interval: null\n  // Specify min interval when auto calculate tick interval.\n  // minInterval: null\n  // Specify max interval when auto calculate tick interval.\n  // maxInterval: null\n  minorTick: {\n    // Minor tick, not available for cateogry axis.\n    show: false,\n    // Split number of minor ticks. The value should be in range of (0, 100)\n    splitNumber: 5,\n    // Lenght of minor tick\n    length: 3,\n    // Same inside with axisTick\n    // Line style\n    lineStyle: {// Default to be same with axisTick\n    }\n  },\n  minorSplitLine: {\n    show: false,\n    lineStyle: {\n      color: '#eee',\n      width: 1\n    }\n  }\n}, defaultOption);\naxisDefault.timeAxis = zrUtil.defaults({\n  scale: true,\n  min: 'dataMin',\n  max: 'dataMax'\n}, axisDefault.valueAxis);\naxisDefault.logAxis = zrUtil.defaults({\n  scale: true,\n  logBase: 10\n}, axisDefault.valueAxis);\nvar _default = axisDefault;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction rectCoordAxisBuildSplitArea(axisView, axisGroup, axisModel, gridModel) {\n  var axis = axisModel.axis;\n\n  if (axis.scale.isBlank()) {\n    return;\n  }\n\n  var splitAreaModel = axisModel.getModel('splitArea');\n  var areaStyleModel = splitAreaModel.getModel('areaStyle');\n  var areaColors = areaStyleModel.get('color');\n  var gridRect = gridModel.coordinateSystem.getRect();\n  var ticksCoords = axis.getTicksCoords({\n    tickModel: splitAreaModel,\n    clamp: true\n  });\n\n  if (!ticksCoords.length) {\n    return;\n  } // For Making appropriate splitArea animation, the color and anid\n  // should be corresponding to previous one if possible.\n\n\n  var areaColorsLen = areaColors.length;\n  var lastSplitAreaColors = axisView.__splitAreaColors;\n  var newSplitAreaColors = zrUtil.createHashMap();\n  var colorIndex = 0;\n\n  if (lastSplitAreaColors) {\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var cIndex = lastSplitAreaColors.get(ticksCoords[i].tickValue);\n\n      if (cIndex != null) {\n        colorIndex = (cIndex + (areaColorsLen - 1) * i) % areaColorsLen;\n        break;\n      }\n    }\n  }\n\n  var prev = axis.toGlobalCoord(ticksCoords[0].coord);\n  var areaStyle = areaStyleModel.getAreaStyle();\n  areaColors = zrUtil.isArray(areaColors) ? areaColors : [areaColors];\n\n  for (var i = 1; i < ticksCoords.length; i++) {\n    var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (axis.isHorizontal()) {\n      x = prev;\n      y = gridRect.y;\n      width = tickCoord - x;\n      height = gridRect.height;\n      prev = x + width;\n    } else {\n      x = gridRect.x;\n      y = prev;\n      width = gridRect.width;\n      height = tickCoord - y;\n      prev = y + height;\n    }\n\n    var tickValue = ticksCoords[i - 1].tickValue;\n    tickValue != null && newSplitAreaColors.set(tickValue, colorIndex);\n    axisGroup.add(new graphic.Rect({\n      anid: tickValue != null ? 'area_' + tickValue : null,\n      shape: {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      },\n      style: zrUtil.defaults({\n        fill: areaColors[colorIndex]\n      }, areaStyle),\n      silent: true\n    }));\n    colorIndex = (colorIndex + 1) % areaColorsLen;\n  }\n\n  axisView.__splitAreaColors = newSplitAreaColors;\n}\n\nfunction rectCoordAxisHandleRemove(axisView) {\n  axisView.__splitAreaColors = null;\n}\n\nexports.rectCoordAxisBuildSplitArea = rectCoordAxisBuildSplitArea;\nexports.rectCoordAxisHandleRemove = rectCoordAxisHandleRemove;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar map = _util.map;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} coordSys\n * @param {module:echarts/data/List} data\n * @param {string} valueOrigin lineSeries.option.areaStyle.origin\n */\nfunction prepareDataCoordInfo(coordSys, data, valueOrigin) {\n  var baseAxis = coordSys.getBaseAxis();\n  var valueAxis = coordSys.getOtherAxis(baseAxis);\n  var valueStart = getValueStart(valueAxis, valueOrigin);\n  var baseAxisDim = baseAxis.dim;\n  var valueAxisDim = valueAxis.dim;\n  var valueDim = data.mapDimension(valueAxisDim);\n  var baseDim = data.mapDimension(baseAxisDim);\n  var baseDataOffset = valueAxisDim === 'x' || valueAxisDim === 'radius' ? 1 : 0;\n  var dims = map(coordSys.dimensions, function (coordDim) {\n    return data.mapDimension(coordDim);\n  });\n  var stacked;\n  var stackResultDim = data.getCalculationInfo('stackResultDimension');\n\n  if (stacked |= isDimensionStacked(data, dims[0]\n  /*, dims[1]*/\n  )) {\n    // jshint ignore:line\n    dims[0] = stackResultDim;\n  }\n\n  if (stacked |= isDimensionStacked(data, dims[1]\n  /*, dims[0]*/\n  )) {\n    // jshint ignore:line\n    dims[1] = stackResultDim;\n  }\n\n  return {\n    dataDimsForPoint: dims,\n    valueStart: valueStart,\n    valueAxisDim: valueAxisDim,\n    baseAxisDim: baseAxisDim,\n    stacked: !!stacked,\n    valueDim: valueDim,\n    baseDim: baseDim,\n    baseDataOffset: baseDataOffset,\n    stackedOverDimension: data.getCalculationInfo('stackedOverDimension')\n  };\n}\n\nfunction getValueStart(valueAxis, valueOrigin) {\n  var valueStart = 0;\n  var extent = valueAxis.scale.getExtent();\n\n  if (valueOrigin === 'start') {\n    valueStart = extent[0];\n  } else if (valueOrigin === 'end') {\n    valueStart = extent[1];\n  } // auto\n  else {\n      // Both positive\n      if (extent[0] > 0) {\n        valueStart = extent[0];\n      } // Both negative\n      else if (extent[1] < 0) {\n          valueStart = extent[1];\n        } // If is one positive, and one negative, onZero shall be true\n\n    }\n\n  return valueStart;\n}\n\nfunction getStackedOnPoint(dataCoordInfo, coordSys, data, idx) {\n  var value = NaN;\n\n  if (dataCoordInfo.stacked) {\n    value = data.get(data.getCalculationInfo('stackedOverDimension'), idx);\n  }\n\n  if (isNaN(value)) {\n    value = dataCoordInfo.valueStart;\n  }\n\n  var baseDataOffset = dataCoordInfo.baseDataOffset;\n  var stackedData = [];\n  stackedData[baseDataOffset] = data.get(dataCoordInfo.baseDim, idx);\n  stackedData[1 - baseDataOffset] = value;\n  return coordSys.dataToPoint(stackedData);\n}\n\nexports.prepareDataCoordInfo = prepareDataCoordInfo;\nexports.getStackedOnPoint = getStackedOnPoint;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar AxisModel = ComponentModel.extend({\n  type: 'cartesian2dAxis',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Axis2D}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  init: function () {\n    AxisModel.superApply(this, 'init', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function () {\n    AxisModel.superApply(this, 'mergeOption', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   */\n  restoreData: function () {\n    AxisModel.superApply(this, 'restoreData', arguments);\n    this.resetRange();\n  },\n\n  /**\n   * @override\n   * @return {module:echarts/model/Component}\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'grid',\n      index: this.option.gridIndex,\n      id: this.option.gridId\n    })[0];\n  }\n});\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\nvar extraOption = {\n  // gridIndex: 0,\n  // gridId: '',\n  // Offset is for multiple axis on the same position\n  offset: 0\n};\naxisModelCreator('x', AxisModel, getAxisType, extraOption);\naxisModelCreator('y', AxisModel, getAxisType, extraOption);\nvar _default = AxisModel;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = SeriesModel.extend({\n  type: 'series.line',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(this.getSource(), this, {\n      useEncodeDefaulter: true\n    });\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // stack: null\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // If clip the overflow value\n    clip: true,\n    // cursor: null,\n    label: {\n      position: 'top'\n    },\n    // itemStyle: {\n    // },\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    },\n    // areaStyle: {\n    // origin of areaStyle. Valid values:\n    // `'auto'/null/undefined`: from axisLine to data\n    // `'start'`: from min to data\n    // `'end'`: from data to max\n    // origin: 'auto'\n    // },\n    // false, 'start', 'end', 'middle'\n    step: false,\n    // Disabled if step is true\n    smooth: false,\n    smoothMonotone: null,\n    symbol: 'emptyCircle',\n    symbolSize: 4,\n    symbolRotate: null,\n    showSymbol: true,\n    // `false`: follow the label interval strategy.\n    // `true`: show all symbols.\n    // `'auto'`: If possible, show all symbols, otherwise\n    //           follow the label interval strategy.\n    showAllSymbol: 'auto',\n    // Whether to connect break point.\n    connectNulls: false,\n    // Sampling for large data. Can be: 'average', 'max', 'min', 'sum'.\n    sampling: 'none',\n    animationEasing: 'linear',\n    // Disable progressive\n    progressive: 0,\n    hoverLayerThreshold: Infinity\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _bbox = require(\"zrender/lib/core/bbox\");\n\nvar fromPoints = _bbox.fromPoints;\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar lineAnimationDiff = require(\"./lineAnimationDiff\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar _poly = require(\"./poly\");\n\nvar Polyline = _poly.Polyline;\nvar Polygon = _poly.Polygon;\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\nvar _createClipPathFromCoordSys = require(\"../helper/createClipPathFromCoordSys\");\n\nvar createGridClipPath = _createClipPathFromCoordSys.createGridClipPath;\nvar createPolarClipPath = _createClipPathFromCoordSys.createPolarClipPath;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// FIXME step not support polar\nfunction isPointsSame(points1, points2) {\n  if (points1.length !== points2.length) {\n    return;\n  }\n\n  for (var i = 0; i < points1.length; i++) {\n    var p1 = points1[i];\n    var p2 = points2[i];\n\n    if (p1[0] !== p2[0] || p1[1] !== p2[1]) {\n      return;\n    }\n  }\n\n  return true;\n}\n\nfunction getBoundingDiff(points1, points2) {\n  var min1 = [];\n  var max1 = [];\n  var min2 = [];\n  var max2 = [];\n  fromPoints(points1, min1, max1);\n  fromPoints(points2, min2, max2); // Get a max value from each corner of two boundings.\n\n  return Math.max(Math.abs(min1[0] - min2[0]), Math.abs(min1[1] - min2[1]), Math.abs(max1[0] - max2[0]), Math.abs(max1[1] - max2[1]));\n}\n\nfunction getSmooth(smooth) {\n  return typeof smooth === 'number' ? smooth : smooth ? 0.5 : 0;\n}\n/**\n * @param {module:echarts/coord/cartesian/Cartesian2D|module:echarts/coord/polar/Polar} coordSys\n * @param {module:echarts/data/List} data\n * @param {Object} dataCoordInfo\n * @param {Array.<Array.<number>>} points\n */\n\n\nfunction getStackedOnPoints(coordSys, data, dataCoordInfo) {\n  if (!dataCoordInfo.valueDim) {\n    return [];\n  }\n\n  var points = [];\n\n  for (var idx = 0, len = data.count(); idx < len; idx++) {\n    points.push(getStackedOnPoint(dataCoordInfo, coordSys, data, idx));\n  }\n\n  return points;\n}\n\nfunction turnPointsIntoStep(points, coordSys, stepTurnAt) {\n  var baseAxis = coordSys.getBaseAxis();\n  var baseIndex = baseAxis.dim === 'x' || baseAxis.dim === 'radius' ? 0 : 1;\n  var stepPoints = [];\n\n  for (var i = 0; i < points.length - 1; i++) {\n    var nextPt = points[i + 1];\n    var pt = points[i];\n    stepPoints.push(pt);\n    var stepPt = [];\n\n    switch (stepTurnAt) {\n      case 'end':\n        stepPt[baseIndex] = nextPt[baseIndex];\n        stepPt[1 - baseIndex] = pt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n        break;\n\n      case 'middle':\n        // default is start\n        var middle = (pt[baseIndex] + nextPt[baseIndex]) / 2;\n        var stepPt2 = [];\n        stepPt[baseIndex] = stepPt2[baseIndex] = middle;\n        stepPt[1 - baseIndex] = pt[1 - baseIndex];\n        stepPt2[1 - baseIndex] = nextPt[1 - baseIndex];\n        stepPoints.push(stepPt);\n        stepPoints.push(stepPt2);\n        break;\n\n      default:\n        stepPt[baseIndex] = pt[baseIndex];\n        stepPt[1 - baseIndex] = nextPt[1 - baseIndex]; // default is start\n\n        stepPoints.push(stepPt);\n    }\n  } // Last points\n\n\n  points[i] && stepPoints.push(points[i]);\n  return stepPoints;\n}\n\nfunction getVisualGradient(data, coordSys) {\n  var visualMetaList = data.getVisual('visualMeta');\n\n  if (!visualMetaList || !visualMetaList.length || !data.count()) {\n    // When data.count() is 0, gradient range can not be calculated.\n    return;\n  }\n\n  if (coordSys.type !== 'cartesian2d') {\n    return;\n  }\n\n  var coordDim;\n  var visualMeta;\n\n  for (var i = visualMetaList.length - 1; i >= 0; i--) {\n    var dimIndex = visualMetaList[i].dimension;\n    var dimName = data.dimensions[dimIndex];\n    var dimInfo = data.getDimensionInfo(dimName);\n    coordDim = dimInfo && dimInfo.coordDim; // Can only be x or y\n\n    if (coordDim === 'x' || coordDim === 'y') {\n      visualMeta = visualMetaList[i];\n      break;\n    }\n  }\n\n  if (!visualMeta) {\n    return;\n  } // If the area to be rendered is bigger than area defined by LinearGradient,\n  // the canvas spec prescribes that the color of the first stop and the last\n  // stop should be used. But if two stops are added at offset 0, in effect\n  // browsers use the color of the second stop to render area outside\n  // LinearGradient. So we can only infinitesimally extend area defined in\n  // LinearGradient to render `outerColors`.\n\n\n  var axis = coordSys.getAxis(coordDim); // dataToCoor mapping may not be linear, but must be monotonic.\n\n  var colorStops = zrUtil.map(visualMeta.stops, function (stop) {\n    return {\n      coord: axis.toGlobalCoord(axis.dataToCoord(stop.value)),\n      color: stop.color\n    };\n  });\n  var stopLen = colorStops.length;\n  var outerColors = visualMeta.outerColors.slice();\n\n  if (stopLen && colorStops[0].coord > colorStops[stopLen - 1].coord) {\n    colorStops.reverse();\n    outerColors.reverse();\n  }\n\n  var tinyExtent = 10; // Arbitrary value: 10px\n\n  var minCoord = colorStops[0].coord - tinyExtent;\n  var maxCoord = colorStops[stopLen - 1].coord + tinyExtent;\n  var coordSpan = maxCoord - minCoord;\n\n  if (coordSpan < 1e-3) {\n    return 'transparent';\n  }\n\n  zrUtil.each(colorStops, function (stop) {\n    stop.offset = (stop.coord - minCoord) / coordSpan;\n  });\n  colorStops.push({\n    offset: stopLen ? colorStops[stopLen - 1].offset : 0.5,\n    color: outerColors[1] || 'transparent'\n  });\n  colorStops.unshift({\n    // notice colorStops.length have been changed.\n    offset: stopLen ? colorStops[0].offset : 0.5,\n    color: outerColors[0] || 'transparent'\n  }); // zrUtil.each(colorStops, function (colorStop) {\n  //     // Make sure each offset has rounded px to avoid not sharp edge\n  //     colorStop.offset = (Math.round(colorStop.offset * (end - start) + start) - start) / (end - start);\n  // });\n\n  var gradient = new graphic.LinearGradient(0, 0, 0, 0, colorStops, true);\n  gradient[coordDim] = minCoord;\n  gradient[coordDim + '2'] = maxCoord;\n  return gradient;\n}\n\nfunction getIsIgnoreFunc(seriesModel, data, coordSys) {\n  var showAllSymbol = seriesModel.get('showAllSymbol');\n  var isAuto = showAllSymbol === 'auto';\n\n  if (showAllSymbol && !isAuto) {\n    return;\n  }\n\n  var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n  if (!categoryAxis) {\n    return;\n  } // Note that category label interval strategy might bring some weird effect\n  // in some scenario: users may wonder why some of the symbols are not\n  // displayed. So we show all symbols as possible as we can.\n\n\n  if (isAuto // Simplify the logic, do not determine label overlap here.\n  && canShowAllSymbolForCategory(categoryAxis, data)) {\n    return;\n  } // Otherwise follow the label interval strategy on category axis.\n\n\n  var categoryDataDim = data.mapDimension(categoryAxis.dim);\n  var labelMap = {};\n  zrUtil.each(categoryAxis.getViewLabels(), function (labelItem) {\n    labelMap[labelItem.tickValue] = 1;\n  });\n  return function (dataIndex) {\n    return !labelMap.hasOwnProperty(data.get(categoryDataDim, dataIndex));\n  };\n}\n\nfunction canShowAllSymbolForCategory(categoryAxis, data) {\n  // In mose cases, line is monotonous on category axis, and the label size\n  // is close with each other. So we check the symbol size and some of the\n  // label size alone with the category axis to estimate whether all symbol\n  // can be shown without overlap.\n  var axisExtent = categoryAxis.getExtent();\n  var availSize = Math.abs(axisExtent[1] - axisExtent[0]) / categoryAxis.scale.count();\n  isNaN(availSize) && (availSize = 0); // 0/0 is NaN.\n  // Sampling some points, max 5.\n\n  var dataLen = data.count();\n  var step = Math.max(1, Math.round(dataLen / 5));\n\n  for (var dataIndex = 0; dataIndex < dataLen; dataIndex += step) {\n    if (SymbolClz.getSymbolSize(data, dataIndex // Only for cartesian, where `isHorizontal` exists.\n    )[categoryAxis.isHorizontal() ? 1 : 0] // Empirical number\n    * 1.5 > availSize) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction createLineClipPath(coordSys, hasAnimation, seriesModel) {\n  if (coordSys.type === 'cartesian2d') {\n    var isHorizontal = coordSys.getBaseAxis().isHorizontal();\n    var clipPath = createGridClipPath(coordSys, hasAnimation, seriesModel); // Expand clip shape to avoid clipping when line value exceeds axis\n\n    if (!seriesModel.get('clip', true)) {\n      var rectShape = clipPath.shape;\n      var expandSize = Math.max(rectShape.width, rectShape.height);\n\n      if (isHorizontal) {\n        rectShape.y -= expandSize;\n        rectShape.height += expandSize * 2;\n      } else {\n        rectShape.x -= expandSize;\n        rectShape.width += expandSize * 2;\n      }\n    }\n\n    return clipPath;\n  } else {\n    return createPolarClipPath(coordSys, hasAnimation, seriesModel);\n  }\n}\n\nvar _default = ChartView.extend({\n  type: 'line',\n  init: function () {\n    var lineGroup = new graphic.Group();\n    var symbolDraw = new SymbolDraw();\n    this.group.add(symbolDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineGroup = lineGroup;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var lineStyleModel = seriesModel.getModel('lineStyle');\n    var areaStyleModel = seriesModel.getModel('areaStyle');\n    var points = data.mapArray(data.getItemLayout);\n    var isCoordSysPolar = coordSys.type === 'polar';\n    var prevCoordSys = this._coordSys;\n    var symbolDraw = this._symbolDraw;\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var lineGroup = this._lineGroup;\n    var hasAnimation = seriesModel.get('animation');\n    var isAreaChart = !areaStyleModel.isEmpty();\n    var valueOrigin = areaStyleModel.get('origin');\n    var dataCoordInfo = prepareDataCoordInfo(coordSys, data, valueOrigin);\n    var stackedOnPoints = getStackedOnPoints(coordSys, data, dataCoordInfo);\n    var showSymbol = seriesModel.get('showSymbol');\n    var isIgnoreFunc = showSymbol && !isCoordSysPolar && getIsIgnoreFunc(seriesModel, data, coordSys); // Remove temporary symbols\n\n    var oldData = this._data;\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    }); // Remove previous created symbols if showSymbol changed to false\n\n    if (!showSymbol) {\n      symbolDraw.remove();\n    }\n\n    group.add(lineGroup); // FIXME step not support polar\n\n    var step = !isCoordSysPolar && seriesModel.get('step');\n    var clipShapeForSymbol;\n\n    if (coordSys && coordSys.getArea && seriesModel.get('clip', true)) {\n      clipShapeForSymbol = coordSys.getArea(); // Avoid float number rounding error for symbol on the edge of axis extent.\n      // See #7913 and `test/dataZoom-clip.html`.\n\n      if (clipShapeForSymbol.width != null) {\n        clipShapeForSymbol.x -= 0.1;\n        clipShapeForSymbol.y -= 0.1;\n        clipShapeForSymbol.width += 0.2;\n        clipShapeForSymbol.height += 0.2;\n      } else if (clipShapeForSymbol.r0) {\n        clipShapeForSymbol.r0 -= 0.5;\n        clipShapeForSymbol.r1 += 0.5;\n      }\n    }\n\n    this._clipShapeForSymbol = clipShapeForSymbol; // Initialization animation or coordinate system changed\n\n    if (!(polyline && prevCoordSys.type === coordSys.type && step === this._step)) {\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      });\n\n      if (step) {\n        // TODO If stacked series is not step\n        points = turnPointsIntoStep(points, coordSys, step);\n        stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n      }\n\n      polyline = this._newPolyline(points, coordSys, hasAnimation);\n\n      if (isAreaChart) {\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      }\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, true, seriesModel));\n    } else {\n      if (isAreaChart && !polygon) {\n        // If areaStyle is added\n        polygon = this._newPolygon(points, stackedOnPoints, coordSys, hasAnimation);\n      } else if (polygon && !isAreaChart) {\n        // If areaStyle is removed\n        lineGroup.remove(polygon);\n        polygon = this._polygon = null;\n      } // Update clipPath\n\n\n      lineGroup.setClipPath(createLineClipPath(coordSys, false, seriesModel)); // Always update, or it is wrong in the case turning on legend\n      // because points are not changed\n\n      showSymbol && symbolDraw.updateData(data, {\n        isIgnore: isIgnoreFunc,\n        clipShape: clipShapeForSymbol\n      }); // Stop symbol animation and sync with line points\n      // FIXME performance?\n\n      data.eachItemGraphicEl(function (el) {\n        el.stopAnimation(true);\n      }); // In the case data zoom triggerred refreshing frequently\n      // Data may not change if line has a category axis. So it should animate nothing\n\n      if (!isPointsSame(this._stackedOnPoints, stackedOnPoints) || !isPointsSame(this._points, points)) {\n        if (hasAnimation) {\n          this._updateAnimation(data, stackedOnPoints, coordSys, api, step, valueOrigin);\n        } else {\n          // Not do it in update with animation\n          if (step) {\n            // TODO If stacked series is not step\n            points = turnPointsIntoStep(points, coordSys, step);\n            stackedOnPoints = turnPointsIntoStep(stackedOnPoints, coordSys, step);\n          }\n\n          polyline.setShape({\n            points: points\n          });\n          polygon && polygon.setShape({\n            points: points,\n            stackedOnPoints: stackedOnPoints\n          });\n        }\n      }\n    }\n\n    var visualColor = getVisualGradient(data, coordSys) || data.getVisual('color');\n    polyline.useStyle(zrUtil.defaults( // Use color in lineStyle first\n    lineStyleModel.getLineStyle(), {\n      fill: 'none',\n      stroke: visualColor,\n      lineJoin: 'bevel'\n    }));\n    var smooth = seriesModel.get('smooth');\n    smooth = getSmooth(seriesModel.get('smooth'));\n    polyline.setShape({\n      smooth: smooth,\n      smoothMonotone: seriesModel.get('smoothMonotone'),\n      connectNulls: seriesModel.get('connectNulls')\n    });\n\n    if (polygon) {\n      var stackedOnSeries = data.getCalculationInfo('stackedOnSeries');\n      var stackedOnSmooth = 0;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: visualColor,\n        opacity: 0.7,\n        lineJoin: 'bevel'\n      }));\n\n      if (stackedOnSeries) {\n        stackedOnSmooth = getSmooth(stackedOnSeries.get('smooth'));\n      }\n\n      polygon.setShape({\n        smooth: smooth,\n        stackedOnSmooth: stackedOnSmooth,\n        smoothMonotone: seriesModel.get('smoothMonotone'),\n        connectNulls: seriesModel.get('connectNulls')\n      });\n    }\n\n    this._data = data; // Save the coordinate system for transition animation when data changed\n\n    this._coordSys = coordSys;\n    this._stackedOnPoints = stackedOnPoints;\n    this._points = points;\n    this._step = step;\n    this._valueOrigin = valueOrigin;\n  },\n  dispose: function () {},\n  highlight: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (!(dataIndex instanceof Array) && dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (!symbol) {\n        // Create a temporary symbol if it is not exists\n        var pt = data.getItemLayout(dataIndex);\n\n        if (!pt) {\n          // Null data\n          return;\n        } // fix #11360: should't draw symbol outside clipShapeForSymbol\n\n\n        if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(pt[0], pt[1])) {\n          return;\n        }\n\n        symbol = new SymbolClz(data, dataIndex);\n        symbol.position = pt;\n        symbol.setZ(seriesModel.get('zlevel'), seriesModel.get('z'));\n        symbol.ignore = isNaN(pt[0]) || isNaN(pt[1]);\n        symbol.__temp = true;\n        data.setItemGraphicEl(dataIndex, symbol); // Stop scale animation\n\n        symbol.stopSymbolAnimation(true);\n        this.group.add(symbol);\n      }\n\n      symbol.highlight();\n    } else {\n      // Highlight whole series\n      ChartView.prototype.highlight.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n  downplay: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var dataIndex = modelUtil.queryDataIndex(data, payload);\n\n    if (dataIndex != null && dataIndex >= 0) {\n      var symbol = data.getItemGraphicEl(dataIndex);\n\n      if (symbol) {\n        if (symbol.__temp) {\n          data.setItemGraphicEl(dataIndex, null);\n          this.group.remove(symbol);\n        } else {\n          symbol.downplay();\n        }\n      }\n    } else {\n      // FIXME\n      // can not downplay completely.\n      // Downplay whole series\n      ChartView.prototype.downplay.call(this, seriesModel, ecModel, api, payload);\n    }\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolyline: function (points) {\n    var polyline = this._polyline; // Remove previous created polyline\n\n    if (polyline) {\n      this._lineGroup.remove(polyline);\n    }\n\n    polyline = new Polyline({\n      shape: {\n        points: points\n      },\n      silent: true,\n      z2: 10\n    });\n\n    this._lineGroup.add(polyline);\n\n    this._polyline = polyline;\n    return polyline;\n  },\n\n  /**\n   * @param {module:zrender/container/Group} group\n   * @param {Array.<Array.<number>>} stackedOnPoints\n   * @param {Array.<Array.<number>>} points\n   * @private\n   */\n  _newPolygon: function (points, stackedOnPoints) {\n    var polygon = this._polygon; // Remove previous created polygon\n\n    if (polygon) {\n      this._lineGroup.remove(polygon);\n    }\n\n    polygon = new Polygon({\n      shape: {\n        points: points,\n        stackedOnPoints: stackedOnPoints\n      },\n      silent: true\n    });\n\n    this._lineGroup.add(polygon);\n\n    this._polygon = polygon;\n    return polygon;\n  },\n\n  /**\n   * @private\n   */\n  // FIXME Two value axis\n  _updateAnimation: function (data, stackedOnPoints, coordSys, api, step, valueOrigin) {\n    var polyline = this._polyline;\n    var polygon = this._polygon;\n    var seriesModel = data.hostModel;\n    var diff = lineAnimationDiff(this._data, data, this._stackedOnPoints, stackedOnPoints, this._coordSys, coordSys, this._valueOrigin, valueOrigin);\n    var current = diff.current;\n    var stackedOnCurrent = diff.stackedOnCurrent;\n    var next = diff.next;\n    var stackedOnNext = diff.stackedOnNext;\n\n    if (step) {\n      // TODO If stacked series is not step\n      current = turnPointsIntoStep(diff.current, coordSys, step);\n      stackedOnCurrent = turnPointsIntoStep(diff.stackedOnCurrent, coordSys, step);\n      next = turnPointsIntoStep(diff.next, coordSys, step);\n      stackedOnNext = turnPointsIntoStep(diff.stackedOnNext, coordSys, step);\n    } // Don't apply animation if diff is large.\n    // For better result and avoid memory explosion problems like\n    // https://github.com/apache/incubator-echarts/issues/12229\n\n\n    if (getBoundingDiff(current, next) > 3000 || polygon && getBoundingDiff(stackedOnCurrent, stackedOnNext) > 3000) {\n      polyline.setShape({\n        points: next\n      });\n\n      if (polygon) {\n        polygon.setShape({\n          points: next,\n          stackedOnPoints: stackedOnNext\n        });\n      }\n\n      return;\n    } // `diff.current` is subset of `current` (which should be ensured by\n    // turnPointsIntoStep), so points in `__points` can be updated when\n    // points in `current` are update during animation.\n\n\n    polyline.shape.__points = diff.current;\n    polyline.shape.points = current;\n    graphic.updateProps(polyline, {\n      shape: {\n        points: next\n      }\n    }, seriesModel);\n\n    if (polygon) {\n      polygon.setShape({\n        points: current,\n        stackedOnPoints: stackedOnCurrent\n      });\n      graphic.updateProps(polygon, {\n        shape: {\n          points: next,\n          stackedOnPoints: stackedOnNext\n        }\n      }, seriesModel);\n    }\n\n    var updatedDataInfo = [];\n    var diffStatus = diff.status;\n\n    for (var i = 0; i < diffStatus.length; i++) {\n      var cmd = diffStatus[i].cmd;\n\n      if (cmd === '=') {\n        var el = data.getItemGraphicEl(diffStatus[i].idx1);\n\n        if (el) {\n          updatedDataInfo.push({\n            el: el,\n            ptIdx: i // Index of points\n\n          });\n        }\n      }\n    }\n\n    if (polyline.animators && polyline.animators.length) {\n      polyline.animators[0].during(function () {\n        for (var i = 0; i < updatedDataInfo.length; i++) {\n          var el = updatedDataInfo[i].el;\n          el.attr('position', polyline.shape.__points[updatedDataInfo[i].ptIdx]);\n        }\n      });\n    }\n  },\n  remove: function (ecModel) {\n    var group = this.group;\n    var oldData = this._data;\n\n    this._lineGroup.removeAll();\n\n    this._symbolDraw.remove(true); // Remove temporary created elements when highlighting\n\n\n    oldData && oldData.eachItemGraphicEl(function (el, idx) {\n      if (el.__temp) {\n        group.remove(el);\n        oldData.setItemGraphicEl(idx, null);\n      }\n    });\n    this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null;\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar _helper = require(\"./helper\");\n\nvar prepareDataCoordInfo = _helper.prepareDataCoordInfo;\nvar getStackedOnPoint = _helper.getStackedOnPoint;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// var arrayDiff = require('zrender/src/core/arrayDiff');\n// 'zrender/src/core/arrayDiff' has been used before, but it did\n// not do well in performance when roam with fixed dataZoom window.\n// function convertToIntId(newIdList, oldIdList) {\n//     // Generate int id instead of string id.\n//     // Compare string maybe slow in score function of arrDiff\n//     // Assume id in idList are all unique\n//     var idIndicesMap = {};\n//     var idx = 0;\n//     for (var i = 0; i < newIdList.length; i++) {\n//         idIndicesMap[newIdList[i]] = idx;\n//         newIdList[i] = idx++;\n//     }\n//     for (var i = 0; i < oldIdList.length; i++) {\n//         var oldId = oldIdList[i];\n//         // Same with newIdList\n//         if (idIndicesMap[oldId]) {\n//             oldIdList[i] = idIndicesMap[oldId];\n//         }\n//         else {\n//             oldIdList[i] = idx++;\n//         }\n//     }\n// }\nfunction diffData(oldData, newData) {\n  var diffResult = [];\n  newData.diff(oldData).add(function (idx) {\n    diffResult.push({\n      cmd: '+',\n      idx: idx\n    });\n  }).update(function (newIdx, oldIdx) {\n    diffResult.push({\n      cmd: '=',\n      idx: oldIdx,\n      idx1: newIdx\n    });\n  }).remove(function (idx) {\n    diffResult.push({\n      cmd: '-',\n      idx: idx\n    });\n  }).execute();\n  return diffResult;\n}\n\nfunction _default(oldData, newData, oldStackedOnPoints, newStackedOnPoints, oldCoordSys, newCoordSys, oldValueOrigin, newValueOrigin) {\n  var diff = diffData(oldData, newData); // var newIdList = newData.mapArray(newData.getId);\n  // var oldIdList = oldData.mapArray(oldData.getId);\n  // convertToIntId(newIdList, oldIdList);\n  // // FIXME One data ?\n  // diff = arrayDiff(oldIdList, newIdList);\n\n  var currPoints = [];\n  var nextPoints = []; // Points for stacking base line\n\n  var currStackedPoints = [];\n  var nextStackedPoints = [];\n  var status = [];\n  var sortedIndices = [];\n  var rawIndices = [];\n  var newDataOldCoordInfo = prepareDataCoordInfo(oldCoordSys, newData, oldValueOrigin);\n  var oldDataNewCoordInfo = prepareDataCoordInfo(newCoordSys, oldData, newValueOrigin);\n\n  for (var i = 0; i < diff.length; i++) {\n    var diffItem = diff[i];\n    var pointAdded = true; // FIXME, animation is not so perfect when dataZoom window moves fast\n    // Which is in case remvoing or add more than one data in the tail or head\n\n    switch (diffItem.cmd) {\n      case '=':\n        var currentPt = oldData.getItemLayout(diffItem.idx);\n        var nextPt = newData.getItemLayout(diffItem.idx1); // If previous data is NaN, use next point directly\n\n        if (isNaN(currentPt[0]) || isNaN(currentPt[1])) {\n          currentPt = nextPt.slice();\n        }\n\n        currPoints.push(currentPt);\n        nextPoints.push(nextPt);\n        currStackedPoints.push(oldStackedOnPoints[diffItem.idx]);\n        nextStackedPoints.push(newStackedOnPoints[diffItem.idx1]);\n        rawIndices.push(newData.getRawIndex(diffItem.idx1));\n        break;\n\n      case '+':\n        var idx = diffItem.idx;\n        currPoints.push(oldCoordSys.dataToPoint([newData.get(newDataOldCoordInfo.dataDimsForPoint[0], idx), newData.get(newDataOldCoordInfo.dataDimsForPoint[1], idx)]));\n        nextPoints.push(newData.getItemLayout(idx).slice());\n        currStackedPoints.push(getStackedOnPoint(newDataOldCoordInfo, oldCoordSys, newData, idx));\n        nextStackedPoints.push(newStackedOnPoints[idx]);\n        rawIndices.push(newData.getRawIndex(idx));\n        break;\n\n      case '-':\n        var idx = diffItem.idx;\n        var rawIndex = oldData.getRawIndex(idx); // Data is replaced. In the case of dynamic data queue\n        // FIXME FIXME FIXME\n\n        if (rawIndex !== idx) {\n          currPoints.push(oldData.getItemLayout(idx));\n          nextPoints.push(newCoordSys.dataToPoint([oldData.get(oldDataNewCoordInfo.dataDimsForPoint[0], idx), oldData.get(oldDataNewCoordInfo.dataDimsForPoint[1], idx)]));\n          currStackedPoints.push(oldStackedOnPoints[idx]);\n          nextStackedPoints.push(getStackedOnPoint(oldDataNewCoordInfo, newCoordSys, oldData, idx));\n          rawIndices.push(rawIndex);\n        } else {\n          pointAdded = false;\n        }\n\n    } // Original indices\n\n\n    if (pointAdded) {\n      status.push(diffItem);\n      sortedIndices.push(sortedIndices.length);\n    }\n  } // Diff result may be crossed if all items are changed\n  // Sort by data index\n\n\n  sortedIndices.sort(function (a, b) {\n    return rawIndices[a] - rawIndices[b];\n  });\n  var sortedCurrPoints = [];\n  var sortedNextPoints = [];\n  var sortedCurrStackedPoints = [];\n  var sortedNextStackedPoints = [];\n  var sortedStatus = [];\n\n  for (var i = 0; i < sortedIndices.length; i++) {\n    var idx = sortedIndices[i];\n    sortedCurrPoints[i] = currPoints[idx];\n    sortedNextPoints[i] = nextPoints[idx];\n    sortedCurrStackedPoints[i] = currStackedPoints[idx];\n    sortedNextStackedPoints[i] = nextStackedPoints[idx];\n    sortedStatus[i] = status[idx];\n  }\n\n  return {\n    current: sortedCurrPoints,\n    next: sortedNextPoints,\n    stackedOnCurrent: sortedCurrStackedPoints,\n    stackedOnNext: sortedNextStackedPoints,\n    status: sortedStatus\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar samplers = {\n  average: function (frame) {\n    var sum = 0;\n    var count = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      if (!isNaN(frame[i])) {\n        sum += frame[i];\n        count++;\n      }\n    } // Return NaN if count is 0\n\n\n    return count === 0 ? NaN : sum / count;\n  },\n  sum: function (frame) {\n    var sum = 0;\n\n    for (var i = 0; i < frame.length; i++) {\n      // Ignore NaN\n      sum += frame[i] || 0;\n    }\n\n    return sum;\n  },\n  max: function (frame) {\n    var max = -Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] > max && (max = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(max) ? max : NaN;\n  },\n  min: function (frame) {\n    var min = Infinity;\n\n    for (var i = 0; i < frame.length; i++) {\n      frame[i] < min && (min = frame[i]);\n    } // NaN will cause illegal axis extent.\n\n\n    return isFinite(min) ? min : NaN;\n  },\n  // TODO\n  // Median\n  nearest: function (frame) {\n    return frame[0];\n  }\n};\n\nvar indexSampler = function (frame, value) {\n  return Math.round(frame.length / 2);\n};\n\nfunction _default(seriesType) {\n  return {\n    seriesType: seriesType,\n    modifyOutputEnd: true,\n    reset: function (seriesModel, ecModel, api) {\n      var data = seriesModel.getData();\n      var sampling = seriesModel.get('sampling');\n      var coordSys = seriesModel.coordinateSystem; // Only cartesian2d support down sampling\n\n      if (coordSys.type === 'cartesian2d' && sampling) {\n        var baseAxis = coordSys.getBaseAxis();\n        var valueAxis = coordSys.getOtherAxis(baseAxis);\n        var extent = baseAxis.getExtent(); // Coordinste system has been resized\n\n        var size = extent[1] - extent[0];\n        var rate = Math.round(data.count() / size);\n\n        if (rate > 1) {\n          var sampler;\n\n          if (typeof sampling === 'string') {\n            sampler = samplers[sampling];\n          } else if (typeof sampling === 'function') {\n            sampler = sampling;\n          }\n\n          if (sampler) {\n            // Only support sample the first dim mapped from value axis.\n            seriesModel.setData(data.downSample(data.mapDimension(valueAxis.dim), 1 / rate, sampler, indexSampler));\n          }\n        }\n      }\n    }\n  };\n}\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Cartesian = require(\"./Cartesian\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction Cartesian2D(name) {\n  Cartesian.call(this, name);\n}\n\nCartesian2D.prototype = {\n  constructor: Cartesian2D,\n  type: 'cartesian2d',\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/cartesian/Axis2D}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x');\n  },\n\n  /**\n   * If contain point\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var axisX = this.getAxis('x');\n    var axisY = this.getAxis('y');\n    return axisX.contain(axisX.toLocalCoord(point[0])) && axisY.contain(axisY.toLocalCoord(point[1]));\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this.getAxis('x').containData(data[0]) && this.getAxis('y').containData(data[1]);\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, reserved, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.toGlobalCoord(xAxis.dataToCoord(data[0]));\n    out[1] = yAxis.toGlobalCoord(yAxis.dataToCoord(data[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} data\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  clampData: function (data, out) {\n    var xScale = this.getAxis('x').scale;\n    var yScale = this.getAxis('y').scale;\n    var xAxisExtent = xScale.getExtent();\n    var yAxisExtent = yScale.getExtent();\n    var x = xScale.parse(data[0]);\n    var y = yScale.parse(data[1]);\n    out = out || [];\n    out[0] = Math.min(Math.max(Math.min(xAxisExtent[0], xAxisExtent[1]), x), Math.max(xAxisExtent[0], xAxisExtent[1]));\n    out[1] = Math.min(Math.max(Math.min(yAxisExtent[0], yAxisExtent[1]), y), Math.max(yAxisExtent[0], yAxisExtent[1]));\n    return out;\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @param {Array.<number>} out\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, out) {\n    var xAxis = this.getAxis('x');\n    var yAxis = this.getAxis('y');\n    out = out || [];\n    out[0] = xAxis.coordToData(xAxis.toLocalCoord(point[0]));\n    out[1] = yAxis.coordToData(yAxis.toLocalCoord(point[1]));\n    return out;\n  },\n\n  /**\n   * Get other axis\n   * @param {module:echarts/coord/cartesian/Axis2D} axis\n   */\n  getOtherAxis: function (axis) {\n    return this.getAxis(axis.dim === 'x' ? 'y' : 'x');\n  },\n\n  /**\n   * Get rect area of cartesian.\n   * Area will have a contain function to determine if a point is in the coordinate system.\n   * @return {BoundingRect}\n   */\n  getArea: function () {\n    var xExtent = this.getAxis('x').getGlobalExtent();\n    var yExtent = this.getAxis('y').getGlobalExtent();\n    var x = Math.min(xExtent[0], xExtent[1]);\n    var y = Math.min(yExtent[0], yExtent[1]);\n    var width = Math.max(xExtent[0], xExtent[1]) - x;\n    var height = Math.max(yExtent[0], yExtent[1]) - y;\n    var rect = new BoundingRect(x, y, width, height);\n    return rect;\n  }\n};\nzrUtil.inherits(Cartesian2D, Cartesian);\nvar _default = Cartesian2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Cartesian coordinate system\n * @module  echarts/coord/Cartesian\n *\n */\nfunction dimAxisMapper(dim) {\n  return this._axes[dim];\n}\n/**\n * @alias module:echarts/coord/Cartesian\n * @constructor\n */\n\n\nvar Cartesian = function (name) {\n  this._axes = {};\n  this._dimList = [];\n  /**\n   * @type {string}\n   */\n\n  this.name = name || '';\n};\n\nCartesian.prototype = {\n  constructor: Cartesian,\n  type: 'cartesian',\n\n  /**\n   * Get axis\n   * @param  {number|string} dim\n   * @return {module:echarts/coord/Cartesian~Axis}\n   */\n  getAxis: function (dim) {\n    return this._axes[dim];\n  },\n\n  /**\n   * Get axes list\n   * @return {Array.<module:echarts/coord/Cartesian~Axis>}\n   */\n  getAxes: function () {\n    return zrUtil.map(this._dimList, dimAxisMapper, this);\n  },\n\n  /**\n   * Get axes list by given scale type\n   */\n  getAxesByScale: function (scaleType) {\n    scaleType = scaleType.toLowerCase();\n    return zrUtil.filter(this.getAxes(), function (axis) {\n      return axis.scale.type === scaleType;\n    });\n  },\n\n  /**\n   * Add axis\n   * @param {module:echarts/coord/Cartesian.Axis}\n   */\n  addAxis: function (axis) {\n    var dim = axis.dim;\n    this._axes[dim] = axis;\n\n    this._dimList.push(dim);\n  },\n\n  /**\n   * Convert data to coord in nd space\n   * @param {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  dataToCoord: function (val) {\n    return this._dataCoordConvert(val, 'dataToCoord');\n  },\n\n  /**\n   * Convert coord in nd space to data\n   * @param  {Array.<number>|Object.<string, number>} val\n   * @return {Array.<number>|Object.<string, number>}\n   */\n  coordToData: function (val) {\n    return this._dataCoordConvert(val, 'coordToData');\n  },\n  _dataCoordConvert: function (input, method) {\n    var dimList = this._dimList;\n    var output = input instanceof Array ? [] : {};\n\n    for (var i = 0; i < dimList.length; i++) {\n      var dim = dimList[i];\n      var axis = this._axes[dim];\n      output[dim] = axis[method](input[dim]);\n    }\n\n    return output;\n  }\n};\nvar _default = Cartesian;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar Axis2D = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   */\n\n  this.position = position || 'bottom';\n};\n\nAxis2D.prototype = {\n  constructor: Axis2D,\n\n  /**\n   * Index of axis, can be used as key\n   */\n  index: 0,\n\n  /**\n   * Implemented in <module:echarts/coord/cartesian/Grid>.\n   * @return {Array.<module:echarts/coord/cartesian/Axis2D>}\n   *         If not on zero of other axis, return null/undefined.\n   *         If no axes, return an empty array.\n   */\n  getAxesOnZeroOf: null,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/cartesian/AxisModel}\n   */\n  model: null,\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * Each item cooresponds to this.getExtent(), which\n   * means globalExtent[0] may greater than globalExtent[1],\n   * unless `asc` is input.\n   *\n   * @param {boolean} [asc]\n   * @return {Array.<number>}\n   */\n  getGlobalExtent: function (asc) {\n    var ret = this.getExtent();\n    ret[0] = this.toGlobalCoord(ret[0]);\n    ret[1] = this.toGlobalCoord(ret[1]);\n    asc && ret[0] > ret[1] && ret.reverse();\n    return ret;\n  },\n  getOtherAxis: function () {\n    this.grid.getOtherAxis();\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordToData(this.toLocalCoord(point[this.dim === 'x' ? 0 : 1]), clamp);\n  },\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var localCoord = axis.toLocalCoord(80);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toLocalCoord: null,\n\n  /**\n   * Transform global coord to local coord,\n   * i.e. var globalCoord = axis.toLocalCoord(40);\n   * designate by module:echarts/coord/cartesian/Grid.\n   * @type {Function}\n   */\n  toGlobalCoord: null\n};\nzrUtil.inherits(Axis2D, Axis);\nvar _default = Axis2D;\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"./AxisModel\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Grid \n//  Cartesian2D \nvar _default = ComponentModel.extend({\n  type: 'grid',\n  dependencies: ['xAxis', 'yAxis'],\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/cartesian/Grid}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    show: false,\n    zlevel: 0,\n    z: 0,\n    left: '10%',\n    top: 60,\n    right: '10%',\n    bottom: 60,\n    // If grid size contain label\n    containLabel: false,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  }\n});\n\nmodule.exports = _default;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nrequire(\"../coord/cartesian/AxisModel\");\n\nrequire(\"./axis/CartesianAxisView\");","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar cartesianAxisHelper = require(\"../../coord/cartesian/cartesianAxisHelper\");\n\nvar _axisSplitHelper = require(\"./axisSplitHelper\");\n\nvar rectCoordAxisBuildSplitArea = _axisSplitHelper.rectCoordAxisBuildSplitArea;\nvar rectCoordAxisHandleRemove = _axisSplitHelper.rectCoordAxisHandleRemove;\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitArea', 'splitLine', 'minorSplitLine'];\nvar CartesianAxisView = AxisView.extend({\n  type: 'cartesianAxis',\n  axisPointerClass: 'CartesianAxisPointer',\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var gridModel = axisModel.getCoordSysModel();\n    var layout = cartesianAxisHelper.layout(gridModel, axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (axisModel.get(name + '.show')) {\n        this['_' + name](axisModel, gridModel);\n      }\n    }, this);\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, axisModel);\n    CartesianAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  remove: function () {\n    rectCoordAxisHandleRemove(this);\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    lineColors = zrUtil.isArray(lineColors) ? lineColors : [lineColors];\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords({\n      tickModel: splitLineModel\n    });\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i].coord);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      var tickValue = ticksCoords[i].tickValue;\n\n      this._axisGroup.add(new graphic.Line({\n        anid: tickValue != null ? 'line_' + ticksCoords[i].tickValue : null,\n        subPixelOptimize: true,\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: zrUtil.defaults({\n          stroke: lineColors[colorIndex]\n        }, lineStyle),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _minorSplitLine: function (axisModel, gridModel) {\n    var axis = axisModel.axis;\n    var minorSplitLineModel = axisModel.getModel('minorSplitLine');\n    var lineStyleModel = minorSplitLineModel.getModel('lineStyle');\n    var gridRect = gridModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var minorTicksCoords = axis.getMinorTicksCoords();\n\n    if (!minorTicksCoords.length) {\n      return;\n    }\n\n    var p1 = [];\n    var p2 = [];\n    var lineStyle = lineStyleModel.getLineStyle();\n\n    for (var i = 0; i < minorTicksCoords.length; i++) {\n      for (var k = 0; k < minorTicksCoords[i].length; k++) {\n        var tickCoord = axis.toGlobalCoord(minorTicksCoords[i][k].coord);\n\n        if (isHorizontal) {\n          p1[0] = tickCoord;\n          p1[1] = gridRect.y;\n          p2[0] = tickCoord;\n          p2[1] = gridRect.y + gridRect.height;\n        } else {\n          p1[0] = gridRect.x;\n          p1[1] = tickCoord;\n          p2[0] = gridRect.x + gridRect.width;\n          p2[1] = tickCoord;\n        }\n\n        this._axisGroup.add(new graphic.Line({\n          anid: 'minor_line_' + minorTicksCoords[i][k].tickValue,\n          subPixelOptimize: true,\n          shape: {\n            x1: p1[0],\n            y1: p1[1],\n            x2: p2[0],\n            y2: p2[1]\n          },\n          style: lineStyle,\n          silent: true\n        }));\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/coord/cartesian/AxisModel} axisModel\n   * @param {module:echarts/coord/cartesian/GridModel} gridModel\n   * @private\n   */\n  _splitArea: function (axisModel, gridModel) {\n    rectCoordAxisBuildSplitArea(this, this._axisGroup, axisModel, gridModel);\n  }\n});\nCartesianAxisView.extend({\n  type: 'xAxis'\n});\nCartesianAxisView.extend({\n  type: 'yAxis'\n});"],"sourceRoot":""}